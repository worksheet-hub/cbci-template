<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ê°œë… ê¸°ë°˜ íƒêµ¬ í”„ë¡œì íŠ¸ ì„¤ê³„ ì›¹í•™ìŠµì§€</title>
<style>
  /* ===== CSS Variables ===== */
  :root {
    --blue: #2E75B6;
    --blue-light: #e8f0fe;
    --blue-dark: #1a3a5c;
    --green: #2E8B6E;
    --green-light: #e6f4ee;
    --green-dark: #1a4a38;
    --brown: #B87333;
    --brown-light: #fbf0e4;
    --brown-dark: #5a3010;
    --gray-50: #f8f9fa;
    --gray-100: #f1f3f5;
    --gray-200: #e9ecef;
    --gray-300: #dee2e6;
    --gray-400: #ced4da;
    --gray-500: #adb5bd;
    --gray-600: #868e96;
    --gray-700: #495057;
    --gray-800: #343a40;
    --gray-900: #212529;
    --shadow-sm: 0 1px 3px rgba(0,0,0,0.08);
    --shadow-md: 0 4px 12px rgba(0,0,0,0.1);
    --shadow-lg: 0 8px 24px rgba(0,0,0,0.12);
    --radius-sm: 6px;
    --radius-md: 10px;
    --radius-lg: 14px;
    --transition: all 0.2s ease;
  }

  /* ===== Print ===== */
  @page { size: A4; margin: 15mm 18mm; }
  @media print {
    body { background: #fff !important; padding: 0 !important; }
    .toolbar, .add-row-btn, .remove-row-btn, .section-actions, .no-print { display: none !important; }
    .page-break { page-break-before: always; }
    .no-break { page-break-inside: avoid; }
    .worksheet-container { max-width: 100%; box-shadow: none; border: none; padding: 20px; }
    textarea { border: none !important; resize: none !important; overflow: hidden !important; background: transparent !important; box-shadow: none !important; }
    textarea::placeholder { color: transparent !important; }
    .stage-badge, .sub-num, thead, .footer-bar, .hint-box, .ai-tip, .concept-info {
      -webkit-print-color-adjust: exact; print-color-adjust: exact;
    }
    .info-label { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
  }

  /* ===== Reset & Base ===== */
  * { box-sizing: border-box; margin: 0; padding: 0; }
  body {
    font-family: 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', sans-serif;
    font-size: 10pt;
    color: var(--gray-900);
    line-height: 1.7;
    background: linear-gradient(135deg, #f5f7fa 0%, #eef1f5 100%);
    min-height: 100vh;
    padding: 0;
  }

  /* ===== Toolbar ===== */
  .toolbar {
    position: sticky;
    top: 0;
    z-index: 100;
    background: rgba(255,255,255,0.92);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border-bottom: 1px solid var(--gray-200);
    padding: 10px 24px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 12px;
    box-shadow: 0 2px 12px rgba(0,0,0,0.06);
  }
  .toolbar-left {
    display: flex;
    align-items: center;
    gap: 8px;
    font-weight: 700;
    color: var(--blue-dark);
    font-size: 11pt;
  }
  .toolbar-left .logo-icon {
    width: 32px; height: 32px;
    background: linear-gradient(135deg, var(--blue), #4a9ade);
    border-radius: 8px;
    display: flex; align-items: center; justify-content: center;
    color: #fff; font-size: 14pt; font-weight: 900;
  }
  .toolbar-right {
    display: flex;
    align-items: center;
    gap: 8px;
    flex-wrap: wrap;
  }
  .tb-btn {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 8px 16px;
    border: none;
    border-radius: var(--radius-sm);
    font-size: 9.5pt;
    font-weight: 600;
    cursor: pointer;
    transition: var(--transition);
    white-space: nowrap;
  }
  .tb-btn:hover { transform: translateY(-1px); box-shadow: var(--shadow-md); }
  .tb-btn:active { transform: translateY(0); }
  .tb-btn-primary {
    background: linear-gradient(135deg, var(--blue), #4a9ade);
    color: #fff;
  }
  .tb-btn-secondary {
    background: var(--gray-100);
    color: var(--gray-700);
    border: 1px solid var(--gray-300);
  }
  .tb-btn-success {
    background: linear-gradient(135deg, var(--green), #3aab8a);
    color: #fff;
  }
  .tb-btn-danger {
    background: var(--gray-100);
    color: #e03131;
    border: 1px solid #ffc9c9;
  }
  .tb-btn-danger:hover { background: #fff5f5; }

  /* ===== Container ===== */
  .worksheet-container {
    max-width: 860px;
    margin: 24px auto;
    background: #fff;
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-lg);
    padding: 36px 40px;
    border: 1px solid var(--gray-200);
  }

  /* ===== Header ===== */
  .doc-header {
    border-top: 5px solid var(--blue);
    padding-top: 18px;
    margin-bottom: 20px;
  }
  .doc-header .corner-label {
    font-size: 8pt;
    color: var(--gray-500);
    font-style: italic;
    letter-spacing: 0.3px;
    text-align: right;
    margin-bottom: 4px;
  }
  .doc-header h1 {
    font-size: 18pt;
    font-weight: 900;
    color: var(--blue-dark);
    letter-spacing: -0.5px;
    margin-bottom: 8px;
  }
  .subtitle-row {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 9.5pt;
    color: var(--gray-600);
    flex-wrap: wrap;
    padding-bottom: 14px;
    border-bottom: 2px solid var(--gray-200);
  }
  .stage-pill {
    display: inline-block;
    padding: 3px 12px;
    border-radius: 14px;
    font-size: 8.5pt;
    font-weight: 700;
    letter-spacing: 0.2px;
  }
  .pill-s1 { background: var(--blue); color: #fff; }
  .pill-s2 { background: var(--green); color: #fff; }
  .pill-s3 { background: var(--brown); color: #fff; }
  .arrow-sep { color: var(--gray-400); font-size: 10pt; }

  /* ===== Stage Headers ===== */
  .stage-header {
    display: flex;
    align-items: center;
    gap: 12px;
    margin: 28px 0 14px 0;
  }
  .stage-badge {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 54px; height: 54px;
    border-radius: 50%;
    font-size: 8.5pt;
    font-weight: 800;
    color: #fff;
    flex-shrink: 0;
    line-height: 1.2;
    text-align: center;
    box-shadow: var(--shadow-sm);
  }
  .badge-s1 { background: linear-gradient(135deg, var(--blue), #4a9ade); }
  .badge-s2 { background: linear-gradient(135deg, var(--green), #3aab8a); }
  .badge-s3 { background: linear-gradient(135deg, var(--brown), #d4904a); }
  .stage-title {
    font-size: 14pt;
    font-weight: 900;
    letter-spacing: -0.3px;
  }
  .stage-title.s1 { color: var(--blue); }
  .stage-title.s2 { color: var(--green); }
  .stage-title.s3 { color: var(--brown); }
  .stage-divider {
    flex: 1;
    height: 3px;
    border-radius: 2px;
  }
  .div-s1 { background: linear-gradient(to right, var(--blue), var(--blue-light)); }
  .div-s2 { background: linear-gradient(to right, var(--green), var(--green-light)); }
  .div-s3 { background: linear-gradient(to right, var(--brown), var(--brown-light)); }

  /* ===== Sub Headers ===== */
  .sub-header {
    display: flex;
    align-items: center;
    gap: 10px;
    margin: 18px 0 8px 0;
  }
  .sub-num {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 22px; height: 22px;
    border-radius: 50%;
    font-size: 8.5pt;
    font-weight: 700;
    color: #fff;
    flex-shrink: 0;
  }
  .num-s1 { background: var(--blue); }
  .num-s2 { background: var(--green); }
  .num-s3 { background: var(--brown); }
  .sub-title {
    font-size: 11.5pt;
    font-weight: 800;
    color: var(--gray-800);
  }

  /* ===== Info Grid ===== */
  .info-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 0;
    border: 1px solid #c8d4e8;
    border-radius: var(--radius-sm);
    overflow: hidden;
    margin: 10px 0;
  }
  .info-item {
    display: flex;
    border-bottom: 1px solid #dde4ef;
    border-right: 1px solid #dde4ef;
    min-height: 36px;
  }
  .info-item:nth-child(2n) { border-right: none; }
  .info-item:nth-last-child(-n+2) { border-bottom: none; }
  .info-label {
    background: #EEF3FA;
    font-weight: 700;
    font-size: 9pt;
    color: var(--blue);
    padding: 6px 12px;
    white-space: nowrap;
    display: flex;
    align-items: center;
    min-width: 100px;
    border-right: 1px solid #dde4ef;
  }
  .info-value {
    flex: 1;
    padding: 0;
  }
  .info-value textarea {
    width: 100%;
    height: 100%;
    min-height: 36px;
    border: none;
    padding: 6px 10px;
    font-size: 9.5pt;
    font-family: inherit;
    line-height: 1.6;
    resize: none;
    background: transparent;
  }
  .info-value textarea:focus { outline: none; background: #fafbff; }
  .info-item.full { grid-column: 1 / -1; border-right: none; }

  /* ===== Tables ===== */
  table {
    width: 100%;
    border-collapse: collapse;
    margin: 8px 0;
    font-size: 9.5pt;
  }
  th {
    font-weight: 700;
    text-align: center;
    font-size: 9pt;
    padding: 8px 10px;
    vertical-align: middle;
  }
  td {
    border: 1px solid #c8cdd6;
    padding: 0;
    vertical-align: top;
  }
  th { border: 1px solid #b0b8c8; }

  .t-s1 th { background: #dce8f5; color: var(--blue-dark); }
  .t-s1 td { border-color: #c0cfe8; }
  .t-s2 th { background: #d4ede4; color: var(--green-dark); }
  .t-s2 td { border-color: #b8d8c8; }
  .t-s3 th { background: #f5e8d4; color: var(--brown-dark); }
  .t-s3 td { border-color: #e0c8a8; }
  .t-kpt th { background: var(--gray-100); color: var(--gray-800); }
  .t-kpt td { border-color: #ccc; }

  /* ===== Textarea in cells ===== */
  td textarea {
    width: 100%;
    min-height: 48px;
    border: none;
    padding: 8px 10px;
    font-size: 9.5pt;
    font-family: inherit;
    line-height: 1.65;
    resize: vertical;
    background: transparent;
    transition: background 0.15s;
  }
  td textarea:focus {
    outline: none;
    background: rgba(46, 117, 182, 0.03);
  }
  td textarea::placeholder {
    color: var(--gray-400);
    font-style: italic;
  }
  td.cell-center textarea {
    text-align: center;
  }

  /* ===== GRASPS & WHERETO ===== */
  .grasps-letter {
    font-weight: 900;
    font-size: 15pt;
    color: var(--green);
    text-align: center;
    vertical-align: middle;
    padding: 8px !important;
    width: 50px;
  }
  .whereto-letter {
    font-weight: 900;
    font-size: 14pt;
    color: var(--brown);
    text-align: center;
    vertical-align: middle;
    padding: 8px !important;
    width: 50px;
  }
  .grasps-meaning, .whereto-meaning {
    vertical-align: middle;
    padding: 8px 10px !important;
    font-size: 9pt;
  }

  /* ===== Hints & Tips ===== */
  .hint-box {
    background: #f0f5fc;
    border-left: 4px solid var(--blue);
    border-radius: 0 var(--radius-sm) var(--radius-sm) 0;
    padding: 10px 14px;
    font-size: 9pt;
    color: #3a4a6a;
    margin: 8px 0;
    line-height: 1.7;
  }
  .ai-tip {
    background: #fffbec;
    border-left: 4px solid #e0a800;
    border-radius: 0 var(--radius-sm) var(--radius-sm) 0;
    padding: 10px 14px;
    font-size: 9pt;
    color: #5a4800;
    font-style: italic;
    margin: 6px 0 10px 0;
    line-height: 1.7;
    display: flex;
    align-items: flex-start;
    gap: 10px;
    justify-content: space-between;
  }
  .ai-tip b { color: #7a5f00; font-style: normal; }
  .ai-tip .nlm-link {
    display: inline-flex;
    align-items: center;
    gap: 5px;
    padding: 4px 12px;
    background: linear-gradient(135deg, #fbbc04, #f9ab00);
    color: #fff;
    font-size: 8pt;
    font-weight: 700;
    font-style: normal;
    border-radius: 14px;
    text-decoration: none;
    white-space: nowrap;
    flex-shrink: 0;
    transition: var(--transition);
    box-shadow: 0 1px 4px rgba(249, 171, 0, 0.3);
  }
  .ai-tip .nlm-link:hover {
    transform: translateY(-1px);
    box-shadow: 0 3px 8px rgba(249, 171, 0, 0.4);
    background: linear-gradient(135deg, #f9ab00, #e69900);
  }

  /* ===== Concept Info ===== */
  .concept-info {
    background: #f5f8fd;
    border: 1px solid #c8d8ee;
    border-radius: var(--radius-sm);
    padding: 14px 18px;
    margin: 10px 0;
    font-size: 9pt;
    line-height: 1.8;
  }
  .concept-info h4 {
    color: var(--blue);
    font-size: 10pt;
    margin-bottom: 8px;
  }
  .concept-info .item-title { font-weight: 700; color: var(--gray-800); margin-top: 6px; display: block; }
  .concept-info .indent { padding-left: 16px; color: var(--gray-700); margin: 2px 0; display: block; }

  /* ===== Input Line ===== */
  .input-line-wrap {
    margin: 6px 0;
  }
  .input-line-wrap label {
    display: block;
    font-size: 9.5pt;
    font-weight: 700;
    color: var(--blue-dark);
    margin-bottom: 4px;
  }
  .input-line-wrap label span {
    font-weight: 400;
    color: var(--gray-600);
    font-size: 8.5pt;
  }
  .input-line-wrap textarea {
    width: 100%;
    min-height: 44px;
    border: 1px dashed var(--gray-400);
    border-radius: var(--radius-sm);
    padding: 10px 14px;
    font-size: 10pt;
    font-family: inherit;
    line-height: 1.7;
    resize: vertical;
    transition: var(--transition);
  }
  .input-line-wrap textarea:focus {
    outline: none;
    border-color: var(--blue);
    border-style: solid;
    box-shadow: 0 0 0 3px rgba(46, 117, 182, 0.1);
    background: #fafbff;
  }
  .input-line-wrap textarea::placeholder {
    color: var(--gray-400);
    font-style: italic;
  }

  /* ===== Lens Table ===== */
  .lens-th {
    background: #dce8f5;
    color: var(--blue-dark);
    font-weight: 700;
    font-size: 9pt;
    padding: 10px 14px !important;
    vertical-align: middle;
    border: 1px solid #b0c4de;
    width: 28%;
  }
  .lens-td {
    border: 1px solid #c0cfe8;
    padding: 0;
    vertical-align: top;
  }
  .lens-td textarea {
    min-height: 52px;
  }

  /* ===== Add/Remove Row Buttons ===== */
  .table-actions {
    display: flex;
    gap: 8px;
    margin: 6px 0 4px 0;
  }
  .add-row-btn {
    display: inline-flex;
    align-items: center;
    gap: 5px;
    padding: 5px 14px;
    border: 1px dashed var(--gray-400);
    border-radius: var(--radius-sm);
    background: var(--gray-50);
    color: var(--gray-600);
    font-size: 8.5pt;
    font-weight: 600;
    cursor: pointer;
    transition: var(--transition);
  }
  .add-row-btn:hover {
    border-color: var(--blue);
    color: var(--blue);
    background: var(--blue-light);
  }
  /* ===== Row Action Buttons ===== */
  .row-actions-wrap {
    overflow: visible;
  }
  .row-actions-wrap tbody td:last-child {
    position: relative;
  }
  .row-actions {
    position: absolute;
    right: -32px;
    top: 50%;
    transform: translateY(-50%);
    display: flex;
    flex-direction: column;
    gap: 2px;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.15s ease;
    z-index: 10;
  }
  /* JSê°€ .row-hover í† ê¸€ (PC), í„°ì¹˜ê°€ .row-active í† ê¸€ (ëª¨ë°”ì¼) */
  .row-actions-wrap tbody tr.row-hover .row-actions,
  .row-actions-wrap tbody tr.row-active .row-actions {
    opacity: 1;
    pointer-events: auto;
  }
  .row-act-btn {
    width: 22px; height: 22px;
    border: 1px solid var(--gray-300);
    border-radius: 4px;
    background: rgba(255,255,255,0.95);
    color: var(--gray-600);
    font-size: 12px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: var(--transition);
    padding: 0;
    line-height: 1;
    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
  }
  .row-act-btn:hover {
    background: var(--blue-light);
    border-color: var(--blue);
    color: var(--blue);
  }
  .row-act-btn.act-delete:hover {
    background: #fee2e2;
    border-color: #e03131;
    color: #e03131;
  }
  .row-act-btn.act-insert:hover {
    background: #e6f4ee;
    border-color: var(--green);
    color: var(--green);
  }
  .row-act-btn:disabled {
    opacity: 0.3;
    cursor: default;
    pointer-events: none;
  }
  @media (max-width: 900px) {
    .row-act-btn {
      width: 20px; height: 20px;
      font-size: 11px;
    }
  }
  @media print {
    .row-actions { display: none !important; }
  }

  /* ===== Description text ===== */
  .desc-text {
    font-size: 9pt;
    color: var(--gray-600);
    font-style: italic;
    margin: 4px 0 10px 4px;
  }

  /* ===== Page Labels ===== */
  .page-label {
    text-align: right;
    font-size: 8pt;
    color: var(--gray-400);
    margin-bottom: 6px;
    font-style: italic;
  }

  /* ===== Footer ===== */
  .footer-bar {
    margin-top: 28px;
    padding: 10px 18px;
    background: linear-gradient(135deg, var(--blue-dark), #2a5580);
    color: #fff;
    border-radius: var(--radius-sm);
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 8.5pt;
  }
  .footer-bar .left { font-weight: 700; letter-spacing: 0.3px; }
  .footer-bar .right { opacity: 0.75; font-style: italic; }

  /* ===== Strand center ===== */
  .strand-label {
    text-align: center;
    vertical-align: middle;
    font-weight: 700;
    color: var(--brown);
    background: transparent;
    font-size: 9pt;
    padding: 8px !important;
    transition: background 0.3s ease;
  }
  .strand-label.has-value {
    background: #fef8f0;
  }
  .strand-label textarea {
    text-align: center;
    font-weight: 700;
    color: var(--brown);
    background: transparent;
  }

  /* ===== Checkbox Cells ===== */
  .check-cell {
    padding: 8px 10px !important;
  }
  .check-label {
    display: flex;
    align-items: flex-start;
    gap: 8px;
    margin-bottom: 6px;
    font-size: 9pt;
    cursor: pointer;
  }
  .check-label input[type="checkbox"] {
    width: 16px; height: 16px;
    margin-top: 2px;
    accent-color: var(--brown);
    cursor: pointer;
  }

  /* ===== Save Status ===== */
  .save-status {
    font-size: 8pt;
    color: var(--gray-500);
    padding: 4px 10px;
    border-radius: 12px;
    background: var(--gray-100);
    display: inline-flex;
    align-items: center;
    gap: 4px;
  }
  .save-status.saved { color: var(--green); background: #e6f4ee; }

  /* ===== Export Dropdown ===== */
  .export-wrap {
    position: relative;
  }
  .export-dropdown {
    position: absolute;
    top: calc(100% + 8px);
    right: 0;
    background: #fff;
    border: 1px solid var(--gray-200);
    border-radius: var(--radius-md);
    box-shadow: var(--shadow-lg);
    min-width: 280px;
    z-index: 150;
    opacity: 0;
    visibility: hidden;
    transform: translateY(-6px);
    transition: all 0.2s ease;
    overflow: hidden;
  }
  .export-dropdown.open {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
  }
  .export-dropdown .dd-section-label {
    padding: 10px 16px 4px;
    font-size: 7.5pt;
    font-weight: 700;
    color: var(--gray-500);
    text-transform: uppercase;
    letter-spacing: 0.8px;
  }
  .export-dropdown .dd-divider {
    height: 1px;
    background: var(--gray-200);
    margin: 4px 0;
  }
  .export-dropdown .dd-item {
    display: flex;
    align-items: flex-start;
    gap: 12px;
    padding: 10px 16px;
    cursor: pointer;
    transition: background 0.15s;
    border: none;
    background: none;
    width: 100%;
    text-align: left;
    font-family: inherit;
  }
  .export-dropdown .dd-item:hover {
    background: var(--gray-50);
  }
  .export-dropdown .dd-item:active {
    background: var(--gray-100);
  }
  .export-dropdown .dd-icon {
    font-size: 18px;
    line-height: 1;
    flex-shrink: 0;
    width: 28px;
    height: 28px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: var(--radius-sm);
  }
  .dd-icon-green { background: #e6f4ee; }
  .dd-icon-blue { background: var(--blue-light); }
  .dd-icon-indigo { background: #eef0ff; }
  .export-dropdown .dd-text {
    flex: 1;
  }
  .export-dropdown .dd-title {
    font-size: 9.5pt;
    font-weight: 700;
    color: var(--gray-800);
    display: block;
    line-height: 1.3;
  }
  .export-dropdown .dd-desc {
    font-size: 8pt;
    color: var(--gray-500);
    display: block;
    margin-top: 1px;
    line-height: 1.4;
  }

  /* ===== Toast Notification ===== */
  .toast {
    position: fixed;
    bottom: 24px;
    left: 50%;
    transform: translateX(-50%) translateY(100px);
    background: var(--gray-800);
    color: #fff;
    padding: 12px 24px;
    border-radius: var(--radius-md);
    font-size: 9.5pt;
    font-weight: 600;
    box-shadow: var(--shadow-lg);
    z-index: 200;
    opacity: 0;
    transition: all 0.3s ease;
  }
  .toast.show {
    transform: translateX(-50%) translateY(0);
    opacity: 1;
  }

  /* ===== Table scroll wrapper (ëª¨ë°”ì¼ ê°€ë¡œ ìŠ¤í¬ë¡¤) ===== */
  .table-scroll {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    margin: 8px 0;
    padding-right: 36px; /* room for row-actions buttons (32px + 4px buffer) */
  }
  .table-scroll table {
    margin: 0;
    min-width: 640px;
  }

  /* ===== Responsive ===== */
  @media (max-width: 900px) {
    .worksheet-container { padding: 20px; margin: 12px; border-radius: var(--radius-md); }
    .toolbar { padding: 8px 16px; flex-wrap: wrap; }
    .toolbar-left { font-size: 10pt; }
    .tb-btn { padding: 6px 12px; font-size: 8.5pt; }
    .info-grid { grid-template-columns: 1fr; }
    .info-item:nth-child(2n) { border-right: none; }
    .info-item { border-right: none !important; }
  }

  /* ===== íƒœë¸”ë¦¿ ë¶„í•  í™”ë©´ (â‰¤600px) ===== */
  @media (max-width: 600px) {
    /* ì»¨í…Œì´ë„ˆ */
    .worksheet-container { padding: 10px; margin: 6px; }

    /* íˆ´ë°” ì»´íŒ©íŠ¸ */
    .toolbar { padding: 6px 10px; }
    .toolbar-left { font-size: 9pt; gap: 6px; }
    .logo-icon { width: 26px; height: 26px; font-size: 11pt; border-radius: 6px; }
    .tb-btn { padding: 5px 8px; font-size: 8pt; }

    /* ë¬¸ì„œ í—¤ë” */
    .doc-header h1 { font-size: 14pt; }
    .doc-header .meta-info { font-size: 8.5pt; }

    /* ë‹¨ê³„ í—¤ë” */
    .stage-header { padding: 10px; gap: 10px; }
    .stage-badge { width: 36px; height: 36px; font-size: 9pt; }
    .stage-title { font-size: 13pt; }

    /* ì†Œì œëª© */
    .sub-header { padding: 6px 10px; }
    .sub-num { width: 22px; height: 22px; font-size: 7.5pt; }
    .sub-title { font-size: 10pt; }

    /* í…Œì´ë¸” */
    table { font-size: 8.5pt; }
    th { font-size: 8pt; padding: 5px 4px; }
    td textarea { font-size: 8.5pt; padding: 5px 6px; min-height: 38px; line-height: 1.55; }

    /* í…Œì´ë¸” ìŠ¤í¬ë¡¤ min-width ì¶•ì†Œ */
    .table-scroll table { min-width: 500px; }

    /* í•™ìŠµíë¦„ 5ì—´ í…Œì´ë¸” ë¹„ìœ¨ ì¡°ì • */
    #flowTable th:first-child,
    #flowTable td:first-child { width: 7%; }
    #flowTable th:nth-child(5),
    #flowTable td:nth-child(5) { width: 8%; }

    /* íŒíŠ¸/íŒ */
    .hint-box, .ai-tip { font-size: 8pt; padding: 8px 10px; }
    .desc-text { font-size: 8.5pt; margin: 4px 0; }

    /* ê°œë… ë Œì¦ˆ ë“± */
    .concept-badge { font-size: 8pt; padding: 4px 10px; }
    .concept-info td { font-size: 8pt; }
    .lens-td textarea { min-height: 44px; }

    /* GRASPS/WHERETO */
    .grasps-letter, .whereto-letter { font-size: 11pt; padding: 4px 8px; }
    .grasps-meaning, .whereto-meaning { font-size: 8pt; padding: 4px 6px; }

    /* ì˜ˆì‹œ íŒ¨ë„ */
    .example-toggle { padding: 10px 14px; }
    .example-toggle-left span:first-child { font-size: 12pt; }
    .example-inner { padding: 10px; }
    .example-inner table { font-size: 8pt; }
    .example-inner th, .example-inner td { padding: 4px 5px; }

    /* í–‰ ì¶”ê°€ ë²„íŠ¼ */
    .add-row-btn { font-size: 8pt; padding: 6px 14px; }

    /* í–‰ ì•¡ì…˜ ë²„íŠ¼ */
    .row-actions { right: -28px; }
    .row-act-btn { width: 18px; height: 18px; font-size: 10px; }
  }

  /* ===== Example Panel ===== */
  .example-banner {
    background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%);
    border: 2px solid #ff9800;
    border-radius: var(--radius-md);
    margin-bottom: 20px;
    overflow: hidden;
    box-shadow: var(--shadow-sm);
  }
  .example-toggle {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 14px 20px;
    cursor: pointer;
    user-select: none;
    transition: background 0.15s;
  }
  .example-toggle:hover { background: rgba(255,152,0,0.08); }
  .example-toggle-left {
    display: flex;
    align-items: center;
    gap: 10px;
  }
  .example-toggle-left .example-icon {
    width: 36px; height: 36px;
    background: linear-gradient(135deg, #ff9800, #ffa726);
    border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
    color: #fff; font-size: 16px; font-weight: 900;
    box-shadow: 0 2px 6px rgba(255,152,0,0.3);
  }
  .example-toggle-left .example-title {
    font-size: 11pt;
    font-weight: 800;
    color: #e65100;
    letter-spacing: -0.3px;
  }
  .example-toggle-left .example-subtitle {
    font-size: 8.5pt;
    color: #bf360c;
    margin-top: 1px;
  }
  .example-arrow {
    font-size: 18px;
    color: #e65100;
    transition: transform 0.3s ease;
    font-weight: 700;
  }
  .example-banner.open .example-arrow {
    transform: rotate(180deg);
  }
  .example-content {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.4s ease;
  }
  .example-banner.open .example-content {
    max-height: 8000px;
  }
  .example-inner {
    padding: 0 20px 20px;
    border-top: 1px dashed #ffb74d;
  }
  .example-inner .ex-label {
    display: inline-block;
    background: #ff9800;
    color: #fff;
    font-size: 7.5pt;
    font-weight: 700;
    padding: 2px 8px;
    border-radius: 3px;
    margin: 14px 0 8px 0;
    letter-spacing: 0.5px;
  }
  .example-inner .ex-stage {
    font-size: 11pt;
    font-weight: 900;
    padding: 8px 14px;
    margin: 14px 0 8px 0;
    border-radius: 4px;
    color: #fff;
  }
  .example-inner .ex-stage.bg1 { background: var(--blue); }
  .example-inner .ex-stage.bg2 { background: var(--green); }
  .example-inner .ex-stage.bg3 { background: var(--brown); }
  .example-inner .ex-sub {
    font-size: 10.5pt;
    font-weight: 700;
    margin: 12px 0 6px 0;
  }
  .example-inner .ex-sub.s1 { color: var(--blue); }
  .example-inner .ex-sub.s2 { color: var(--green); }
  .example-inner .ex-sub.s3 { color: var(--brown); }
  .example-inner table {
    font-size: 9pt;
    margin: 6px 0 10px 0;
  }
  .example-inner th {
    font-size: 8.5pt;
    padding: 6px 8px;
  }
  .example-inner td {
    padding: 5px 8px;
    font-size: 9pt;
    line-height: 1.6;
  }
  .example-inner .ex-info {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 4px 16px;
    font-size: 9.5pt;
    margin: 8px 0;
    padding: 10px 14px;
    background: rgba(255,255,255,0.6);
    border-radius: var(--radius-sm);
  }
  .example-inner .ex-info b {
    color: var(--gray-700);
    min-width: 90px;
    display: inline-block;
  }
  .example-inner .ex-idea {
    padding: 10px 16px;
    background: rgba(255,255,255,0.6);
    border-left: 3px solid var(--blue);
    border-radius: 0 var(--radius-sm) var(--radius-sm) 0;
    margin: 6px 0;
    font-size: 10.5pt;
    font-weight: 700;
    color: var(--gray-800);
  }
  .example-inner .ex-eq {
    padding: 10px 16px;
    background: rgba(255,255,255,0.6);
    border-left: 3px solid var(--blue);
    border-radius: 0 var(--radius-sm) var(--radius-sm) 0;
    margin: 6px 0;
    font-size: 10.5pt;
    font-weight: 700;
    color: var(--blue);
  }
  .example-inner .ex-hint {
    background: rgba(255,255,255,0.5);
    border-radius: 4px;
    padding: 6px 10px;
    font-size: 8.5pt;
    color: #666;
    margin: 6px 0;
  }
  .example-inner .ex-tag {
    font-size: 7.5pt;
    color: #666;
    background: #f0f0f0;
    padding: 1px 4px;
    border-radius: 3px;
  }
  .example-inner .ex-kpt th {
    background: #f5e6d0;
  }
  @media print {
    .example-banner { display: none !important; }
  }

  /* ===== Autogrow textarea style ===== */
  textarea.autogrow {
    overflow: hidden;
  }
</style>
</head>
<body>

<!-- ===== Toolbar ===== -->
<div class="toolbar no-print">
  <div class="toolbar-left">
    <div class="logo-icon">C</div>
    <span>CBCI ì›¹í•™ìŠµì§€</span>
  </div>
  <div class="toolbar-right">
    <span class="save-status" id="saveStatus">
      <span id="saveIcon">ğŸ’¾</span> <span id="saveText">ìë™ ì €ì¥ ëŒ€ê¸°</span>
    </span>
    <button class="tb-btn tb-btn-danger" onclick="resetAll()" title="ëª¨ë“  ì…ë ¥ ì´ˆê¸°í™”">
      ğŸ—‘ ì´ˆê¸°í™”
    </button>
    <div class="export-wrap">
      <button class="tb-btn tb-btn-primary" onclick="toggleExportMenu()" id="exportBtn">
        ğŸ“¥ ë‚´ë³´ë‚´ê¸° â–¾
      </button>
      <div class="export-dropdown" id="exportDropdown">
        <div class="dd-section-label">ë°°í¬ìš© ë¹ˆ ì–‘ì‹</div>
        <button class="dd-item" onclick="printBlankPDF(); closeExportMenu();">
          <span class="dd-icon dd-icon-green">ğŸ“‹</span>
          <span class="dd-text">
            <span class="dd-title">ë¹ˆ ì–‘ì‹ ì¸ì‡„</span>
            <span class="dd-desc">ì‘ì„± ì „ ë°°í¬ìš© A4 ì–‘ì‹ ì¶œë ¥</span>
          </span>
        </button>
        <div class="dd-divider"></div>
        <div class="dd-section-label">ë‚´ ì‘ì„± ë‚´ìš©</div>
        <button class="dd-item" onclick="downloadHTML(); closeExportMenu();">
          <span class="dd-icon dd-icon-blue">ğŸ“„</span>
          <span class="dd-text">
            <span class="dd-title">HTML íŒŒì¼ ì €ì¥</span>
            <span class="dd-desc">ì…ë ¥í•œ ë‚´ìš©ì„ HTML íŒŒì¼ë¡œ ë‹¤ìš´ë¡œë“œ</span>
          </span>
        </button>
        <button class="dd-item" onclick="printPDF(); closeExportMenu();">
          <span class="dd-icon dd-icon-indigo">ğŸ–¨</span>
          <span class="dd-text">
            <span class="dd-title">ì¸ì‡„ / PDF ì €ì¥</span>
            <span class="dd-desc">ì…ë ¥í•œ ë‚´ìš©ì„ ì¸ì‡„í•˜ê±°ë‚˜ PDFë¡œ ì €ì¥</span>
          </span>
        </button>
      </div>
    </div>
  </div>
</div>

<!-- ===== Main Container ===== -->
<div class="worksheet-container" id="worksheetContainer">

  <!-- ===== Cover Header ===== -->
  <div class="doc-header">
    <div class="corner-label">ê°œë…ê¸°ë°˜ìˆ˜ì—…ì„¤ê³„ AIë¡œ ë‚ ê°œë¥¼ ë‹¬ë‹¤</div>
    <h1>ê°œë… ê¸°ë°˜ íƒêµ¬ í”„ë¡œì íŠ¸ ì„¤ê³„ ì›Œí¬ì‹œíŠ¸</h1>
    <div class="subtitle-row">
      <span>ë°±ì›Œë“œ ì„¤ê³„ 3ë‹¨ê³„</span>
      <span class="arrow-sep">:</span>
      <span class="stage-pill pill-s1">1ë‹¨ê³„ ë°”ë¼ëŠ” ê²°ê³¼</span>
      <span class="arrow-sep">â†’</span>
      <span class="stage-pill pill-s2">2ë‹¨ê³„ ì¦ê±° ê²°ì •</span>
      <span class="arrow-sep">â†’</span>
      <span class="stage-pill pill-s3">3ë‹¨ê³„ í•™ìŠµ ê²½í—˜</span>
    </div>
  </div>

  <!-- ===== Example Panel ===== -->
  <div class="example-banner no-print" id="examplePanel">
    <div class="example-toggle" onclick="toggleExample()">
      <div class="example-toggle-left">
        <div class="example-icon">ğŸ“–</div>
        <div>
          <div class="example-title">ì‘ì„± ì˜ˆì‹œ ë³´ê¸° â€” 3í•™ë…„ ë„ë• 'ê°€ì¡± ì‚¬ë‘ì˜ ê¸¸ì„ ì°¾ì•„ì„œ'</div>
          <div class="example-subtitle">í´ë¦­í•˜ì—¬ ì™„ì„±ëœ ì„¤ê³„ ì˜ˆì‹œë¥¼ ì°¸ê³ í•˜ì„¸ìš” (ì ‘ê¸°/í¼ì¹˜ê¸°)</div>
        </div>
      </div>
      <span class="example-arrow" id="exampleArrow">â–¼</span>
    </div>
    <div class="example-content" id="exampleContent">
      <div class="example-inner">

        <!-- ê¸°ë³¸ì •ë³´ -->
        <div class="ex-label">ê¸°ë³¸ ì •ë³´</div>
        <table class="t-s1">
          <thead><tr><th style="width:10%">êµê³¼</th><th style="width:14%">ì„±ì·¨ê¸°ì¤€ ì½”ë“œ</th><th>ì„±ì·¨ê¸°ì¤€ ë‚´ìš© (ìš”ì•½)</th><th style="width:6%">ì°¨ì‹œ</th></tr></thead>
          <tbody>
            <tr><td><b>ë„ë•</b></td><td>[4ë„02-01]</td><td>íš¨, ìš°ì• ì˜ ì˜ë¯¸ì™€ í•„ìš”ì„±ì„ ì´í•´í•˜ê³  ê°€ì¡±ì˜ í–‰ë³µì„ ìœ„í•´ ì‹¤ì²œ ê³„íšì„ ì„¸ìš´ë‹¤</td><td style="text-align:center">8</td></tr>
            <tr><td><b>êµ­ì–´</b></td><td>[4êµ­03-04]</td><td>ëª©ì ê³¼ ì£¼ì œë¥¼ ê³ ë ¤í•˜ì—¬ ë…ì(ê°€ì¡±)ì—ê²Œ ë§ˆìŒì„ ì „í•˜ëŠ” ê¸€ì„ ì“´ë‹¤</td><td style="text-align:center">4</td></tr>
            <tr><td><b>ë¯¸ìˆ </b></td><td>[4ë¯¸02-04]</td><td>í‘œí˜„ ì˜ë„ë¥¼ ê°€ì§€ê³  ê°€ì¡±ì„ ìœ„í•œ ê°ì‚¬ ì„ ë¬¼ì„ ì œì‘í•œë‹¤</td><td style="text-align:center">4</td></tr>
            <tr><td><b>ìŒì•…</b></td><td>[4ìŒ01-02]</td><td>ê¸°ì´ˆì ì¸ ìŒì•… ìš”ì†Œë¥¼ ì‚´ë ¤ ê°€ì¡±ì„ ìœ„í•œ ë…¸ë˜ë¥¼ ì—°ì£¼í•œë‹¤</td><td style="text-align:center">4</td></tr>
          </tbody>
        </table>
        <div class="ex-info">
          <div><b>í•™ë…„:</b> 3í•™ë…„</div>
          <div><b>ì´ ì°¨ì‹œ:</b> 20ì°¨ì‹œ</div>
          <div><b>ê¸°ê°„:</b> 4ì›” 2ì£¼ ~ 6ì›” 1ì£¼</div>
          <div><b>í˜‘ë ¥íŒ€ì›:</b> â—‹â—‹â—‹, â—‹â—‹â—‹</div>
          <div style="grid-column:1/-1"><b>í”„ë¡œì íŠ¸ëª…:</b> ê°€ì¡± ì‚¬ë‘ì˜ ê¸¸ì„ ì°¾ì•„ì„œ</div>
          <div style="grid-column:1/-1"><b>í•µì‹¬ì—­ëŸ‰:</b> ê³µê° ì†Œí†µ ì—­ëŸ‰, ê³µë™ì²´ ì—­ëŸ‰</div>
        </div>

        <!-- 1ë‹¨ê³„ -->
        <div class="ex-stage bg1">1ë‹¨ê³„ â€” ë°”ë¼ëŠ” ê²°ê³¼ í™•ì¸</div>

        <div class="ex-sub s1">â‘  êµìœ¡ê³¼ì • ë¶„ì„ (êµê³¼ë³„)</div>
        <table class="t-s1">
          <thead><tr><th style="width:9%">êµê³¼</th><th style="width:26%">í•µì‹¬ ì•„ì´ë””ì–´</th><th style="width:20%">ì§€ì‹Â·ì´í•´ (Know)</th><th style="width:20%">ê³¼ì •Â·ê¸°ëŠ¥ (Do)</th><th style="width:25%">ê°€ì¹˜Â·íƒœë„ (Be)</th></tr></thead>
          <tbody>
            <tr>
              <td><b>ë„ë•</b></td>
              <td>ë°°ë ¤ëŠ” íƒ€ì¸ì— ëŒ€í•œ ê´€ì‹¬ê³¼ ê³µê°ì„ ê¸°ë°˜ìœ¼ë¡œ íƒ€ì¸ì˜ ì‚¶ì„ ê°œì„ í•œë‹¤.</td>
              <td>â€¢ íš¨ì™€ ìš°ì• ì˜ ì˜ë¯¸<br>â€¢ ê°€ì¡±ì˜ ì—­í• ê³¼ ì±…ì„<br>â€¢ ê³µê°ì˜ ì˜ë¯¸ì™€ ë°©ë²•</td>
              <td>â€¢ ì‹¤ì²œ ê³„íš ì„¸ìš°ê¸°<br>â€¢ ë„ë•ì  ìƒí™© íŒë‹¨</td>
              <td>â€¢ ê°€ì¡±ì„ ì‚¬ë‘í•˜ëŠ” ë§ˆìŒ<br>â€¢ ê°ì‚¬ì™€ ì¡´ì¤‘ì˜ íƒœë„<br>â€¢ ì§€ì†ì  ì‹¤ì²œ ì˜ì§€</td>
            </tr>
            <tr>
              <td><b>êµ­ì–´</b></td>
              <td>ëª©ì ê³¼ ìƒí™©ì— ë§ê²Œ ê¸€ì„ ì“°ë©´ ì˜ë¯¸ë¥¼ íš¨ê³¼ì ìœ¼ë¡œ ì „ë‹¬í•  ìˆ˜ ìˆë‹¤.</td>
              <td>â€¢ ê¸€ì˜ ëª©ì ê³¼ ë…ì<br>â€¢ ì§„ì†”í•œ í‘œí˜„ ë°©ë²•</td>
              <td>â€¢ ë§ˆìŒì„ ì „í•˜ëŠ” ê¸€ì“°ê¸°</td>
              <td>â€¢ í‘œí˜„í•˜ë ¤ëŠ” ì˜ì§€</td>
            </tr>
            <tr>
              <td><b>ë¯¸ìˆ </b></td>
              <td>í‘œí˜„ ì˜ë„ì— ë”°ë¼ ì¬ë£Œì™€ ë°©ë²•ì„ ì„ íƒí•˜ë©´ ìì‹ ì˜ ìƒê°ì„ ì‹œê°ì ìœ¼ë¡œ ì „ë‹¬í•  ìˆ˜ ìˆë‹¤.</td>
              <td>â€¢ í‘œí˜„ ì˜ë„ì™€ ì¬ë£Œ</td>
              <td>â€¢ ê°ì‚¬ ì„ ë¬¼ ì œì‘í•˜ê¸°</td>
              <td>â€¢ ì •ì„±ì„ ë‹´ëŠ” íƒœë„</td>
            </tr>
            <tr>
              <td><b>ìŒì•…</b></td>
              <td>ìŒì•…ì˜ ê¸°ì´ˆ ìš”ì†Œë¥¼ ì‚´ë ¤ í‘œí˜„í•˜ë©´ ê°ì •ì„ íš¨ê³¼ì ìœ¼ë¡œ ì „ë‹¬í•  ìˆ˜ ìˆë‹¤.</td>
              <td>â€¢ ê¸°ì´ˆì  ìŒì•… ìš”ì†Œ</td>
              <td>â€¢ ê°€ì¡±ì„ ìœ„í•œ ë…¸ë˜ ê³µì—°</td>
              <td>â€¢ ìŒì•…ìœ¼ë¡œ ë§ˆìŒ ì „í•˜ê¸°</td>
            </tr>
          </tbody>
        </table>

        <div class="ex-sub s1">â‘¡ ê°œë… ì„¤ê³„</div>
        <table class="t-s1">
          <tbody>
            <tr><th style="width:27%;background:#dce8f5;">ë§¤í¬ë¡œ ê°œë… (ë Œì¦ˆ)</th><td><b>ìƒí˜¸ì‘ìš©</b>, <b>ê´€ì </b> â€” ëŒ€êµ¬ 8ëŒ€ ê°œë…ì—ì„œ ì„ íƒ</td></tr>
            <tr><th style="background:#dce8f5;">ë§ˆì´í¬ë¡œ ê°œë…</th><td>íš¨, ìš°ì• , ë°°ë ¤, ì¡´ì¤‘, ê³µê°, í‘œí˜„, ì‹¤ì²œ</td></tr>
          </tbody>
        </table>

        <div class="ex-sub s1">â‘¢ ë‹¨ì› í•µì‹¬ì•„ì´ë””ì–´ + í•µì‹¬ ì§ˆë¬¸</div>
        <div style="font-size:9pt;color:var(--gray-600);margin-bottom:4px;">ë‹¨ì› í•µì‹¬ì•„ì´ë””ì–´ (Central Idea)</div>
        <div class="ex-idea">ê°€ì¡±ì˜ ì‚¬ë‘ê³¼ í–‰ë³µì€ ì„œë¡œì˜ ê´€ì ì„ ì´í•´í•˜ëŠ” í‘œí˜„ì„ í†µí•´ ê¹Šì–´ì§„ë‹¤.</div>
        <div style="font-size:9pt;color:var(--gray-600);margin:8px 0 4px 0;">í•µì‹¬ ì§ˆë¬¸ (Overarching EQ)</div>
        <div class="ex-eq">ê°€ì¡±ì—ê²Œ ì‚¬ë‘ì„ í‘œí˜„í•˜ëŠ” ê²ƒì´ ì™œ ì¤‘ìš”í•˜ë©°, ì–´ë–»ê²Œ í•  ìˆ˜ ìˆì„ê¹Œ?</div>

        <div class="ex-sub s1">â‘£ ìŠ¤íŠ¸ëœë“œë³„ í•˜ìœ„ ì•„ì´ë””ì–´ + ì•ˆë‚´ ì§ˆë¬¸</div>
        <table class="t-s1">
          <thead><tr><th style="width:20%">ìŠ¤íŠ¸ëœë“œ</th><th style="width:35%">í•˜ìœ„ ì•„ì´ë””ì–´ (ì¼ë°˜í™”)</th><th style="width:45%">ì•ˆë‚´ ì§ˆë¬¸</th></tr></thead>
          <tbody>
            <tr>
              <td><b>ìŠ¤íŠ¸ëœë“œ 1</b><br><i>ê°€ì¡±ê³¼ í–‰ë³µì˜ ì´í•´</i><br>(ê°œë… í˜•ì„±)</td>
              <td>ê°€ì¡±ì˜ í–‰ë³µì€ ì„œë¡œì˜ ê´€ì ì„ ì¡´ì¤‘í•˜ê³  ë°°ë ¤í•˜ëŠ” íƒœë„ì—ì„œ ë¹„ë¡¯ëœë‹¤.</td>
              <td>â€¢ ìš°ë¦¬ ê°€ì¡±ì´ í•¨ê»˜ ìˆì„ ë•Œ í–‰ë³µí•˜ë‹¤ê³  ëŠë‚€ ì ì€? <span class="ex-tag">ì‚¬ì‹¤</span><br>â€¢ íš¨ë€ ë¬´ì—‡ì´ë©°, ìš°ë¦¬ ìƒí™œì—ì„œ ì–´ë–»ê²Œ ë‚˜íƒ€ë‚˜ëŠ”ê°€? <span class="ex-tag">ê°œë…</span><br>â€¢ ê°€ì¡±ì´ ì„œë¡œ ì¡´ì¤‘í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ì–´ë–¤ ì¼ì´ ìƒê¸¸ê¹Œ? <span class="ex-tag">ë…¼ìŸ</span></td>
            </tr>
            <tr>
              <td><b>ìŠ¤íŠ¸ëœë“œ 2</b><br><i>ì‚¬ë‘ì˜ í‘œí˜„ê³¼ ì†Œí†µ</i><br>(í‘œí˜„ í™•ì¥)</td>
              <td>ë§ˆìŒì„ ë‹´ì€ í‘œí˜„ì€ ê´€ê³„ë¥¼ ë”ìš± ê¹Šê³  ì˜ë¯¸ ìˆê²Œ ë§Œë“ ë‹¤.</td>
              <td>â€¢ ê°€ì¡±ì—ê²Œ ì‚¬ë‘ì„ ì–´ë–»ê²Œ í‘œí˜„í•´ ë³´ì•˜ë‚˜? <span class="ex-tag">ì‚¬ì‹¤</span><br>â€¢ í¸ì§€ëŠ” ì™œ ë§ˆìŒì„ ì „í•˜ëŠ” ì¢‹ì€ ë°©ë²•ì´ ë  ìˆ˜ ìˆì„ê¹Œ? <span class="ex-tag">ê°œë…</span><br>â€¢ ê°™ì€ ë§ì´ë¼ë„ ì§„ì‹¬ì´ ëŠê»´ì§ˆ ë•Œì™€ ì•„ë‹ ë•ŒëŠ”? <span class="ex-tag">ë…¼ìŸ</span></td>
            </tr>
            <tr>
              <td><b>ìŠ¤íŠ¸ëœë“œ 3</b><br><i>ì‹¤ì²œê³¼ ì „ì´</i><br>(í–‰ë™ í™•ì¥/ì „ì´)</td>
              <td>ì§€ì†ì ì¸ ì‚¬ë‘ì˜ ì‹¤ì²œì€ ê°€ì¡±ê³¼ ê³µë™ì²´ì˜ í–‰ë³µì„ ìœ ì§€í•œë‹¤.</td>
              <td>â€¢ ì‚¬ë‘ì€ í•œ ë²ˆ í‘œí˜„í•˜ë©´ ì¶©ë¶„í• ê¹Œ? <span class="ex-tag">ë…¼ìŸ</span><br>â€¢ ì‘ì€ í–‰ë™ í•˜ë‚˜ê°€ ê°€ì¡± ê´€ê³„ë¥¼ ë°”ê¿€ ìˆ˜ ìˆì„ê¹Œ? <span class="ex-tag">ë…¼ìŸ</span><br>â€¢ ì´ ë°°ì›€ì€ ì¹œêµ¬ ê´€ê³„ì—ë„ ì ìš©ë  ìˆ˜ ìˆì„ê¹Œ? <span class="ex-tag">ë…¼ìŸ</span></td>
            </tr>
          </tbody>
        </table>

        <!-- 2ë‹¨ê³„ -->
        <div class="ex-stage bg2">2ë‹¨ê³„ â€” ì¦ê±° ê²°ì •</div>

        <div class="ex-sub s2">â‘¤ GRASPS ìˆ˜í–‰ê³¼ì œ</div>
        <div class="ex-hint">ê³¼ì œëª…: <b>ìš°ë¦¬ ê°€ì¡± í–‰ë³µ ìº í˜ì¸ â€” "ê°€ì¡±ì—ê²Œ ì „í•˜ëŠ” ì‘ì€ ì‹¤ì²œ í”„ë¡œì íŠ¸"</b></div>
        <table class="t-s2">
          <thead><tr><th style="width:7%">ìš”ì†Œ</th><th style="width:20%">ì˜ë¯¸</th><th>ë‚´ìš©</th></tr></thead>
          <tbody>
            <tr><td style="text-align:center;font-weight:900;color:var(--green);font-size:13pt;">G</td><td>ëª©í‘œ/ë„ì „ ê³¼ì œ</td><td>ë°°ë ¤ì™€ ì¡´ì¤‘ì˜ ê°€ì¹˜ë¥¼ ê°€ì¡± ì•ˆì—ì„œ ì‹¤ì²œí•˜ëŠ” ë°©ë²• ì°¾ê¸°</td></tr>
            <tr><td style="text-align:center;font-weight:900;color:var(--green);font-size:13pt;">R</td><td>í•™ìƒì˜ ì—­í• </td><td>ê°€ì¡± í–‰ë³µ ìº í˜ì¸ì„ ê¸°íší•˜ëŠ” 'ê°€ì¡± í–‰ë³µ ë””ìì´ë„ˆ'</td></tr>
            <tr><td style="text-align:center;font-weight:900;color:var(--green);font-size:13pt;">A</td><td>ëŒ€ìƒ/ì²­ì¤‘</td><td>ìš°ë¦¬ ê°€ì¡± êµ¬ì„±ì› (ë¶€ëª¨ë‹˜, í˜•ì œìë§¤)</td></tr>
            <tr><td style="text-align:center;font-weight:900;color:var(--green);font-size:13pt;">S</td><td>ì‹¤ì œì  ë§¥ë½</td><td>ê°€ì¡± ê°„ ì†Œí†µ ë¶€ì¡±ìœ¼ë¡œ ì„œìš´í•¨ì„ ëŠë‚€ ê²½í—˜ì„ ë– ì˜¬ë¦¬ë©° í•´ê²°ì±… íƒìƒ‰</td></tr>
            <tr><td style="text-align:center;font-weight:900;color:var(--green);font-size:13pt;">P</td><td>ì‚°ì¶œë¬¼/ìˆ˜í–‰</td><td>ê°€ì¡±ì—ê²Œ ì „í•˜ëŠ” ì‹¤ì²œ ì•½ì† ì¹´ë“œ + 1ì£¼ì¼ ì‹¤ì²œ ì¼ì§€</td></tr>
            <tr><td style="text-align:center;font-weight:900;color:var(--green);font-size:13pt;">S</td><td>í‰ê°€ ì¤€ê±°</td><td>ê°œë…(íš¨, ìš°ì• , ì¡´ì¤‘) ì—°ê²°ì„± / ì‹¤ì²œ êµ¬ì²´ì„± / ì§„ì •ì„±</td></tr>
          </tbody>
        </table>

        <div class="ex-sub s2">â‘¥ ë£¨ë¸Œë¦­</div>
        <table class="t-s2">
          <thead><tr><th style="width:20%">í‰ê°€ ìš”ì†Œ</th><th style="width:27%">ì˜í•¨ â˜…â˜…â˜…</th><th style="width:27%">ë³´í†µ â˜…â˜…</th><th style="width:26%">ë…¸ë ¥ ìš”í•¨ â˜…</th></tr></thead>
          <tbody>
            <tr>
              <td><b>ê°œë… ì—°ê²°ì„±</b> (Know)</td>
              <td>íš¨Â·ìš°ì• Â·ì¡´ì¤‘ ê°œë…ì„ ì •í™•íˆ ì´í•´í•˜ê³  ì‹¤ì²œ ê³„íšì— ìì—°ìŠ¤ëŸ½ê²Œ ì—°ê²°í•¨</td>
              <td>ê°œë…ì„ ë¶€ë¶„ì ìœ¼ë¡œ ì´í•´í•˜ë‚˜ ì‹¤ì²œê³¼ì˜ ì—°ê²°ì´ ì•½í•¨</td>
              <td>ê°œë… ì´í•´ê°€ ë¶ˆë¶„ëª…í•˜ê³  ì—°ê²°ì´ ë“œëŸ¬ë‚˜ì§€ ì•ŠìŒ</td>
            </tr>
            <tr>
              <td><b>ì‹¤ì²œ êµ¬ì²´ì„±</b> (Do)</td>
              <td>êµ¬ì²´ì ì´ê³  ì‹¤í˜„ ê°€ëŠ¥í•œ ì‹¤ì²œ ê³„íšì„ ì„¸ìš°ê³ , 1ì£¼ì¼ê°„ ê¾¸ì¤€íˆ ì‹¤í–‰í•¨</td>
              <td>ì‹¤ì²œ ê³„íšì„ ì„¸ì› ìœ¼ë‚˜ êµ¬ì²´ì„±ì´ ë¶€ì¡±í•˜ê±°ë‚˜ ì‹¤í–‰ì´ ê°„í—ì ì„</td>
              <td>ì‹¤ì²œ ê³„íšì´ ì¶”ìƒì ì´ê³  ì‹¤í–‰ ê¸°ë¡ì´ ê±°ì˜ ì—†ìŒ</td>
            </tr>
            <tr>
              <td><b>ì§„ì •ì„±</b> (Be)</td>
              <td>ê°€ì¡±ì— ëŒ€í•œ ì§„ì‹¬ì´ ë‹´ê¸´ í‘œí˜„ì´ ë“œëŸ¬ë‚˜ë©° ì§€ì†ì  ì‹¤ì²œ ì˜ì§€ê°€ ë³´ì„</td>
              <td>í‘œí˜„ì— ì§„ì‹¬ì´ ì¼ë¶€ ë“œëŸ¬ë‚˜ë‚˜ í˜•ì‹ì ì¸ ë¶€ë¶„ì´ ìˆìŒ</td>
              <td>í˜•ì‹ì  ìˆ˜í–‰ì— ê·¸ì¹˜ë©° ì§„ì •ì„±ì´ ì˜ ëŠê»´ì§€ì§€ ì•ŠìŒ</td>
            </tr>
          </tbody>
        </table>

        <!-- 3ë‹¨ê³„ -->
        <div class="ex-stage bg3">3ë‹¨ê³„ â€” í•™ìŠµ ê²½í—˜ ê³„íš</div>

        <div class="ex-sub s3">â‘¦ ë‹¨ì› í•™ìŠµ íë¦„</div>
        <table class="t-s3">
          <thead><tr><th style="width:7%">ì°¨ì‹œ</th><th style="width:18%">ìŠ¤íŠ¸ëœë“œ</th><th style="width:32%">ì£¼ìš” í™œë™</th><th style="width:30%">ìë£Œ ë° ì‚¬ê³ ì „ëµ</th><th style="width:13%">ë¹„ê³ </th></tr></thead>
          <tbody>
            <tr>
              <td style="text-align:center">1~2</td>
              <td><b>ìŠ¤íŠ¸ëœë“œ 1</b><br><i>ê°€ì¡±ê³¼ í–‰ë³µì˜ ì´í•´</i></td>
              <td>â€¢ ê°€ì¡± í–‰ë³µ ê²½í—˜ ë‚˜ëˆ„ê¸°<br>â€¢ íš¨Â·ìš°ì•  ì˜ë¯¸ íƒêµ¬<br>â€¢ ê°€ì¡± ì—­í• Â·ê´€ì  ë§ˆì¸ë“œë§µ</td>
              <td>â€¢ íš¨ë€ ë¬´ì—‡ì´ë©°, ìš°ë¦¬ ìƒí™œì—ì„œ ì–´ë–»ê²Œ ë‚˜íƒ€ë‚˜ëŠ”ê°€? <span class="ex-tag">ê°œë…</span><br>â€¢ ê°€ì¡±ì´ ì„œë¡œ ì¡´ì¤‘í•˜ì§€ ì•Šìœ¼ë©´? <span class="ex-tag">ë…¼ìŸ</span></td>
              <td>ê°œë… í˜•ì„±</td>
            </tr>
            <tr>
              <td style="text-align:center">3~5</td>
              <td><b>ìŠ¤íŠ¸ëœë“œ 2</b><br><i>ì‚¬ë‘ì˜ í‘œí˜„ê³¼ ì†Œí†µ</i></td>
              <td>â€¢ ê°€ì¡± ì¸í„°ë·° í™œë™<br>â€¢ ë§ˆìŒì„ ì „í•˜ëŠ” ê¸€ì“°ê¸°<br>â€¢ ê°ì‚¬ ì„ ë¬¼ ì œì‘, ë…¸ë˜ ì—°ìŠµ</td>
              <td>â€¢ ê°€ì¡±ì—ê²Œ ì‚¬ë‘ì„ ì–´ë–»ê²Œ í‘œí˜„í•´ ë³´ì•˜ë‚˜? <span class="ex-tag">ì‚¬ì‹¤</span><br>â€¢ í¸ì§€ëŠ” ì™œ ì¢‹ì€ ë°©ë²•ì´ ë ê¹Œ? <span class="ex-tag">ê°œë…</span></td>
              <td>í‘œí˜„ í™•ì¥</td>
            </tr>
            <tr>
              <td style="text-align:center">6~8</td>
              <td><b>ìŠ¤íŠ¸ëœë“œ 3</b><br><i>ì‹¤ì²œê³¼ ì „ì´</i></td>
              <td>â€¢ ê°œë… ì •ë¦¬ í† ì˜<br>â€¢ <b>ê°€ì¡± í–‰ë³µ ìº í˜ì¸ ì‹¤í–‰ (ìˆ˜í–‰ê³¼ì œ)</b><br>â€¢ ì‹¤ì²œ ê²°ê³¼ ê³µìœ , KPT ì„±ì°°</td>
              <td>â€¢ ì‘ì€ í–‰ë™ í•˜ë‚˜ê°€ ê°€ì¡± ê´€ê³„ë¥¼ ë°”ê¿€ ìˆ˜ ìˆì„ê¹Œ? <span class="ex-tag">ë…¼ìŸ</span><br>â€¢ ì¹œêµ¬ ê´€ê³„ì—ë„ ì ìš©ë  ìˆ˜ ìˆì„ê¹Œ? <span class="ex-tag">ë…¼ìŸ</span></td>
              <td>í–‰ë™ í™•ì¥ / ì „ì´</td>
            </tr>
          </tbody>
        </table>

        <div class="ex-sub s3">KPT ì„±ì°°</div>
        <table class="ex-kpt">
          <thead><tr><th style="width:33%">Keep (ì˜ ëœ ì )</th><th style="width:34%">Problem (ë³´ì™„í•  ì )</th><th style="width:33%">Try (ë‹¤ìŒ ì‹œë„)</th></tr></thead>
          <tbody>
            <tr>
              <td>â€¢ ìƒí˜¸ì‘ìš©Â·ê´€ì  ë Œì¦ˆë¡œ 4êµê³¼ë¥¼ ìì—°ìŠ¤ëŸ½ê²Œ ì—°ê²°<br>â€¢ GRASPSê°€ í•™ìƒì˜ ì‹¤ìƒí™œ ë§¥ë½ê³¼ ì˜ ì—°ê²°ë¨</td>
              <td>â€¢ ìŒì•… êµê³¼ ì°¨ì‹œê°€ ë¶€ì¡±í•  ìˆ˜ ìˆìŒ<br>â€¢ ê°€ì •ê³¼ì˜ ì—°ê³„ í™œë™ êµ¬ì²´í™” í•„ìš”</td>
              <td>â€¢ í•™ë¶€ëª¨ ì°¸ì—¬í˜• í™œë™ ì¶”ê°€ ê²€í† <br>â€¢ ë””ì§€í„¸ ì‹¤ì²œ ì¼ì§€ ë„êµ¬ í™œìš©</td>
            </tr>
          </tbody>
        </table>

      </div>
    </div>
  </div>

  <!-- ===== Basic Info ===== -->
  <div class="sub-header">
    <span class="sub-title" style="color:var(--blue-dark);">ğŸ“‹ ê¸°ë³¸ ì •ë³´</span>
  </div>

  <table class="t-s1 row-actions-wrap" id="basicInfoTable">
    <thead>
      <tr>
        <th style="width:14%">êµê³¼</th>
        <th style="width:20%">ì„±ì·¨ê¸°ì¤€ ì½”ë“œ</th>
        <th style="width:51%">ì„±ì·¨ê¸°ì¤€ ë‚´ìš© (ìš”ì•½)</th>
        <th style="width:15%">ì°¨ì‹œ</th>
      </tr>
    </thead>
    <tbody id="basicInfoBody">
      <tr>
        <td><textarea class="autogrow" placeholder="ì˜ˆ: ë„ë•" data-field="subject-1"></textarea></td>
        <td><textarea class="autogrow" placeholder="[4ë„02-01]" data-field="code-1"></textarea></td>
        <td><textarea class="autogrow" placeholder="íš¨, ìš°ì• ì˜ ì˜ë¯¸ì™€ í•„ìš”ì„±ì„ ì´í•´í•˜ê³ â€¦" data-field="content-1"></textarea></td>
        <td class="cell-center"><textarea class="autogrow" placeholder="5" data-field="hours-1" style="text-align:center;"></textarea></td>
      </tr>
    </tbody>
  </table>
  <div class="table-actions no-print">
    <button class="add-row-btn" onclick="addRow('basicInfoBody', ['subject','code','content','hours'], 4)">+ ì„±ì·¨ê¸°ì¤€ í–‰ ì¶”ê°€</button>
  </div>

  <div class="info-grid">
    <div class="info-item">
      <div class="info-label">ì´ ì°¨ì‹œ</div>
      <div class="info-value"><textarea class="autogrow" placeholder="ì˜ˆ: 15ì°¨ì‹œ" data-field="total-hours"></textarea></div>
    </div>
    <div class="info-item">
      <div class="info-label">í•™ë…„</div>
      <div class="info-value"><textarea class="autogrow" placeholder="ì˜ˆ: 3í•™ë…„" data-field="grade"></textarea></div>
    </div>
    <div class="info-item">
      <div class="info-label">ê¸°ê°„</div>
      <div class="info-value"><textarea class="autogrow" placeholder="ì˜ˆ: 3ì›” 2ì£¼ ~ 4ì›” 1ì£¼" data-field="period"></textarea></div>
    </div>
    <div class="info-item">
      <div class="info-label">í˜‘ë ¥íŒ€ì›</div>
      <div class="info-value"><textarea class="autogrow" placeholder="íŒ€ì› ì´ë¦„" data-field="team"></textarea></div>
    </div>
    <div class="info-item full">
      <div class="info-label">í”„ë¡œì íŠ¸/ë‹¨ì›ëª…</div>
      <div class="info-value"><textarea class="autogrow" placeholder="í”„ë¡œì íŠ¸ ë˜ëŠ” ë‹¨ì› ì´ë¦„ ì…ë ¥" data-field="project-name"></textarea></div>
    </div>
    <div class="info-item full">
      <div class="info-label">ê´€ë ¨ í•µì‹¬ì—­ëŸ‰</div>
      <div class="info-value"><textarea class="autogrow" placeholder="ê³µê°ì†Œí†µ / ì°½ì˜ìœµí•© / ìê¸°ê´€ë¦¬ / ê³µë™ì²´ (ëŒ€êµ¬ 4ëŒ€)" data-field="competency"></textarea></div>
    </div>
  </div>

  <div class="ai-tip" style="background:#f0f0ff; border-left-color:#5c6bc0; color:#3a3a6a;">
    <span><b>ğŸ“˜ ëŒ€êµ¬ë¯¸ë˜ì—­ëŸ‰</b>&nbsp; ê³µê°ì†Œí†µÂ·ì°½ì˜ìœµí•©Â·ìê¸°ê´€ë¦¬Â·ê³µë™ì²´ â€” ëŒ€êµ¬ 4ëŒ€ í•µì‹¬ì—­ëŸ‰ì— ëŒ€í•œ ë°°ê²½ì§€ì‹ê³¼ ìƒì„¸ ë‚´ìš©ì„ í™•ì¸í•˜ì„¸ìš”.</span>
    <a class="nlm-link" style="background:linear-gradient(135deg,#5c6bc0,#7986cb); box-shadow:0 1px 4px rgba(92,107,192,0.3);" href="https://dge0110-my.sharepoint.com/:p:/g/personal/plusiam_o365_dg-gamcheon_es_kr/IQD9wso7M5-dS5qSfjfw_xQgAZoIqph_RDWTrA3wMgck0EE?e=rudY6B" target="_blank" rel="noopener">ğŸ“˜ ì—­ëŸ‰ ìë£Œ ì—´ê¸°</a>
  </div>

  <div class="hint-box">ğŸ’¡ ì„±ì·¨ê¸°ì¤€ ì½”ë“œë€? [4ë„02-01] = 4í•™ë…„, ë„ë•, 02ë²ˆì§¸ ì˜ì—­, 01ë²ˆ ê¸°ì¤€. ìœµí•© í”„ë¡œì íŠ¸ëŠ” 2ê°œ ì´ìƒ êµê³¼ì˜ ì„±ì·¨ê¸°ì¤€ì„ í•¨ê»˜ ì”ë‹ˆë‹¤.</div>
  <div class="ai-tip"><span><b>ğŸ¤– NotebookLM</b>&nbsp; êµìœ¡ê³¼ì • ë¬¸ì„œë¥¼ ì—…ë¡œë“œí•œ ë’¤, 'ì´ˆ3 ê°€ì¡±ì— ê´€í•œ ë„ë•ê³¼ ì„±ì·¨ê¸°ì¤€ ì°¾ì•„ì¤˜'ì²˜ëŸ¼ ì§ˆë¬¸í•˜ë©´ ê´€ë ¨ ì„±ì·¨ê¸°ì¤€ì„ ë¹ ë¥´ê²Œ ê²€ìƒ‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</span><a class="nlm-link" href="https://notebooklm.google.com/notebook/bd163358-a9d5-45f2-8007-5eacab2f2dd4" target="_blank" rel="noopener">ğŸ“’ NotebookLM ì—´ê¸°</a></div>

  <!-- ===== Stage 1 ===== -->
  <div class="stage-header">
    <div class="stage-badge badge-s1">1<br>ë‹¨ê³„</div>
    <div class="stage-title s1">ë°”ë¼ëŠ” ê²°ê³¼ í™•ì¸</div>
    <div class="stage-divider div-s1"></div>
  </div>

  <div class="sub-header">
    <span class="sub-num num-s1">â‘ </span>
    <span class="sub-title">êµìœ¡ê³¼ì • ë¶„ì„ (êµê³¼ë³„)</span>
  </div>
  <p class="desc-text">ê° ì°¸ì—¬ êµê³¼ì˜ í•µì‹¬ ì•„ì´ë””ì–´ì™€ ë‚´ìš©ìš”ì†Œë¥¼ êµê³¼ë³„ë¡œ ë¶„í•´í•©ë‹ˆë‹¤.</p>

  <table class="t-s1 row-actions-wrap" id="curriculumTable">
    <thead>
      <tr>
        <th style="width:11%">êµê³¼</th>
        <th style="width:24%">í•µì‹¬ ì•„ì´ë””ì–´<br>(ì˜ì—­ ìˆ˜ì¤€, ì›ë¬¸)</th>
        <th style="width:21%">ì§€ì‹Â·ì´í•´<br>(Know)</th>
        <th style="width:22%">ê³¼ì •Â·ê¸°ëŠ¥<br>(Do)</th>
        <th style="width:22%">ê°€ì¹˜Â·íƒœë„<br>(Be)</th>
      </tr>
    </thead>
    <tbody id="curriculumBody">
      <tr>
        <td><textarea class="autogrow" placeholder="ë„ë•" data-field="cur-subj-1"></textarea></td>
        <td><textarea class="autogrow" placeholder="í•µì‹¬ ì•„ì´ë””ì–´ ì›ë¬¸ ì…ë ¥" data-field="cur-idea-1"></textarea></td>
        <td><textarea class="autogrow" placeholder="ì§€ì‹Â·ì´í•´ ìš”ì†Œ" data-field="cur-know-1"></textarea></td>
        <td><textarea class="autogrow" placeholder="ê³¼ì •Â·ê¸°ëŠ¥ ìš”ì†Œ" data-field="cur-do-1"></textarea></td>
        <td><textarea class="autogrow" placeholder="ê°€ì¹˜Â·íƒœë„ ìš”ì†Œ" data-field="cur-be-1"></textarea></td>
      </tr>
    </tbody>
  </table>
  <div class="table-actions no-print">
    <button class="add-row-btn" onclick="addRow('curriculumBody', ['cur-subj','cur-idea','cur-know','cur-do','cur-be'], 5)">+ êµê³¼ í–‰ ì¶”ê°€</button>
  </div>
  <div class="hint-box">ğŸ’¡ ìœµí•© í”„ë¡œì íŠ¸ì—ì„œëŠ” êµê³¼ë§ˆë‹¤ í•µì‹¬ ì•„ì´ë””ì–´ì™€ ë‚´ìš©ìš”ì†Œê°€ ë‹¤ë¦…ë‹ˆë‹¤. ê° êµê³¼ì˜ ë‚´ìš© ì²´ê³„í‘œì—ì„œ í•´ë‹¹ ì˜ì—­ì˜ í•µì‹¬ ì•„ì´ë””ì–´ë¥¼ ì°¾ì•„ êµê³¼ë³„ë¡œ ê¸°ë¡í•˜ì„¸ìš”.</div>
  <div class="ai-tip"><span><b>ğŸ¤– NotebookLM</b>&nbsp; 'ë„ë• 4í•™ë…„ ìê¸° ì¡´ì¤‘ ì˜ì—­ì˜ í•µì‹¬ ì•„ì´ë””ì–´ì™€ ë‚´ìš©ìš”ì†Œë¥¼ ì •ë¦¬í•´ì¤˜'ë¼ê³  êµê³¼ë³„ë¡œ ì§ˆë¬¸í•˜ë©´ í•œëˆˆì— í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</span><a class="nlm-link" href="https://notebooklm.google.com/notebook/bd163358-a9d5-45f2-8007-5eacab2f2dd4" target="_blank" rel="noopener">ğŸ“’ NotebookLM ì—´ê¸°</a></div>

  <!-- ===== Page 2 ===== -->
  <div class="page-break"></div>
  <div class="page-label">1ë‹¨ê³„ ê³„ì†</div>

  <div class="sub-header">
    <span class="sub-num num-s1">â‘¡</span>
    <span class="sub-title">ê°œë… ì„¤ê³„</span>
  </div>

  <table class="t-s1" style="margin-bottom:10px;">
    <tbody>
      <tr>
        <td class="lens-th">ë§¤í¬ë¡œ ê°œë…<br><span style="font-weight:normal;font-size:8pt;">(= ê°œë…ì  ë Œì¦ˆ)<br>ëŒ€êµ¬ 8ëŒ€ / IB 7ê°œ</span></td>
        <td class="lens-td"><textarea class="autogrow" placeholder="ì •ì²´ì„± Â· ì¸ê³¼ê´€ê³„ Â· ê¸°ëŠ¥ Â· í˜•íƒœ Â· ë³€í™” Â· ê´€ì  Â· ìƒí˜¸ì‘ìš© Â· ì±…ì„ â€” ìœ„ ëª©ë¡ì—ì„œ ë Œì¦ˆê°€ ë  ê°œë…ì„ ì„ íƒí•˜ì„¸ìš”" data-field="macro-concept"></textarea></td>
      </tr>
      <tr>
        <td class="lens-th">ë§ˆì´í¬ë¡œ ê°œë…<br><span style="font-weight:normal;font-size:8pt;">(êµê³¼ë³„ í•˜ìœ„ ê°œë…)</span></td>
        <td class="lens-td"><textarea class="autogrow" placeholder="ì˜ˆ: íš¨, ìš°ì• , ì¡´ì¤‘, ë°°ë ¤" data-field="micro-concept"></textarea></td>
      </tr>
    </tbody>
  </table>
  <div class="hint-box">ğŸ’¡ ê°œë…ì˜ ìœ„ê³„: ë§¤í¬ë¡œ ê°œë…(ê°œë…ì  ë Œì¦ˆ, ê°€ì¥ ì¶”ìƒì ) â†’ ë§ˆì´í¬ë¡œ ê°œë…(êµê³¼ë³„ í•˜ìœ„ ê°œë…, êµ¬ì²´ì )</div>
  <div class="ai-tip"><span><b>ğŸ¤– NotebookLM</b>&nbsp; 'ì´ ì„±ì·¨ê¸°ì¤€ë“¤ì„ ê´€í†µí•˜ëŠ” ìƒìœ„ ê°œë…ì€ ë¬´ì—‡ì¼ê¹Œ?'ë¼ê³  ì§ˆë¬¸í•˜ë©´ ë§¤í¬ë¡œ ê°œë…(ë Œì¦ˆ) í›„ë³´ë¥¼ ì œì•ˆë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</span><a class="nlm-link" href="https://notebooklm.google.com/notebook/bd163358-a9d5-45f2-8007-5eacab2f2dd4" target="_blank" rel="noopener">ğŸ“’ NotebookLM ì—´ê¸°</a></div>

  <div class="sub-header" style="margin-top:20px;">
    <span class="sub-num num-s1">â‘¢</span>
    <span class="sub-title">ë‹¨ì› í•µì‹¬ì•„ì´ë””ì–´ + í•µì‹¬ ì§ˆë¬¸ (ë‹¨ì› ìˆ˜ì¤€, ê° 1ê°œ)</span>
  </div>

  <div class="input-line-wrap">
    <label>ë‹¨ì› í•µì‹¬ì•„ì´ë””ì–´ (Central Idea) <span>â€” ë‹¨ì› ì „ì²´ë¥¼ ê´€í†µí•˜ëŠ” ìµœìƒìœ„ ì¼ë°˜í™” 1ê°œ</span></label>
    <textarea class="autogrow" placeholder="ì˜ˆ: ê°€ì¡±ì˜ ì‚¬ë‘ê³¼ í–‰ë³µì€ ì„œë¡œì˜ ê´€ì ì„ ì´í•´í•˜ëŠ” í‘œí˜„ì„ í†µí•´ ê¹Šì–´ì§„ë‹¤." data-field="central-idea"></textarea>
  </div>

  <div class="input-line-wrap" style="margin-top:14px;">
    <label>í•µì‹¬ ì§ˆë¬¸ (Overarching EQ) <span>â€” ë‹¨ì› ì „ì²´ë¥¼ ì´ë„ëŠ” í¬ê´„ì  ì—´ë¦° ì§ˆë¬¸ 1ê°œ</span></label>
    <textarea class="autogrow" placeholder="ì˜ˆ: ê°€ì¡±ì—ê²Œ ì‚¬ë‘ì„ í‘œí˜„í•˜ëŠ” ê²ƒì´ ì™œ ì¤‘ìš”í•˜ë©°, ì–´ë–»ê²Œ í•  ìˆ˜ ìˆì„ê¹Œ?" data-field="essential-question"></textarea>
  </div>

  <div class="hint-box" style="margin-top:10px;">ğŸ’¡ â‘¢ ë‹¨ì› í•µì‹¬ì•„ì´ë””ì–´Â·í•µì‹¬ ì§ˆë¬¸ì€ ë‹¨ì›ì˜ 'í° ê·¸ë¦¼'ì…ë‹ˆë‹¤. â‘£ ìŠ¤íŠ¸ëœë“œì˜ í•˜ìœ„ ì•„ì´ë””ì–´Â·ì•ˆë‚´ ì§ˆë¬¸ì´ ì´ë¥¼ êµ¬ì²´í™”í•©ë‹ˆë‹¤.</div>

  <div class="sub-header" style="margin-top:20px;">
    <span class="sub-num num-s1">â‘£</span>
    <span class="sub-title">ìŠ¤íŠ¸ëœë“œë³„ í•˜ìœ„ ì•„ì´ë””ì–´ + ì•ˆë‚´ ì§ˆë¬¸</span>
  </div>

  <table class="t-s1 row-actions-wrap" id="strandTable">
    <thead>
      <tr>
        <th style="width:20%">ìŠ¤íŠ¸ëœë“œ</th>
        <th style="width:40%">í•˜ìœ„ ì•„ì´ë””ì–´ (ì¼ë°˜í™”)</th>
        <th style="width:40%">ì•ˆë‚´ ì§ˆë¬¸ (Guiding Questions)</th>
      </tr>
    </thead>
    <tbody id="strandBody">
      <tr>
        <td class="strand-label"><textarea class="autogrow" placeholder="ìŠ¤íŠ¸ëœë“œ 1&#10;(ê°œë… í˜•ì„±)" data-field="strand-name-1" style="text-align:center;font-weight:700;color:#B87333;min-height:60px;"></textarea></td>
        <td><textarea class="autogrow" placeholder="í•˜ìœ„ ì•„ì´ë””ì–´(ì¼ë°˜í™”) ì…ë ¥" data-field="strand-idea-1" style="min-height:60px;"></textarea></td>
        <td><textarea class="autogrow" placeholder="ì•ˆë‚´ ì§ˆë¬¸ 2~4ê°œ ì…ë ¥" data-field="strand-q-1" style="min-height:60px;"></textarea></td>
      </tr>
      <tr>
        <td class="strand-label"><textarea class="autogrow" placeholder="ìŠ¤íŠ¸ëœë“œ 2&#10;(í‘œí˜„ í™•ì¥)" data-field="strand-name-2" style="text-align:center;font-weight:700;color:#B87333;min-height:60px;"></textarea></td>
        <td><textarea class="autogrow" placeholder="í•˜ìœ„ ì•„ì´ë””ì–´(ì¼ë°˜í™”) ì…ë ¥" data-field="strand-idea-2" style="min-height:60px;"></textarea></td>
        <td><textarea class="autogrow" placeholder="ì•ˆë‚´ ì§ˆë¬¸ 2~4ê°œ ì…ë ¥" data-field="strand-q-2" style="min-height:60px;"></textarea></td>
      </tr>
      <tr>
        <td class="strand-label"><textarea class="autogrow" placeholder="ìŠ¤íŠ¸ëœë“œ 3&#10;(í–‰ë™ í™•ì¥/ì „ì´)" data-field="strand-name-3" style="text-align:center;font-weight:700;color:#B87333;min-height:60px;"></textarea></td>
        <td><textarea class="autogrow" placeholder="í•˜ìœ„ ì•„ì´ë””ì–´(ì¼ë°˜í™”) ì…ë ¥" data-field="strand-idea-3" style="min-height:60px;"></textarea></td>
        <td><textarea class="autogrow" placeholder="ì•ˆë‚´ ì§ˆë¬¸ 2~4ê°œ ì…ë ¥" data-field="strand-q-3" style="min-height:60px;"></textarea></td>
      </tr>
    </tbody>
  </table>
  <div class="table-actions no-print">
    <button class="add-row-btn" onclick="addStrandRow()">+ ìŠ¤íŠ¸ëœë“œ ì¶”ê°€</button>
  </div>
  <div class="hint-box">ğŸ’¡ ë‹¨ì›ë‹¹ ì¼ë°˜í™”ëŠ” 3ê°œ ì´ìƒ ì‘ì„±í•©ë‹ˆë‹¤. ê° ìŠ¤íŠ¸ëœë“œì— í•˜ìœ„ ì¼ë°˜í™” 1ê°œ + ì•ˆë‚´ ì§ˆë¬¸(Topical EQ) 2~4ê°œë¥¼ ë°°ì¹˜í•©ë‹ˆë‹¤. 'ê°œë… í˜•ì„± â†’ í‘œí˜„ í™•ì¥ â†’ í–‰ë™ í™•ì¥' íë¦„ì„ ì°¸ê³ í•˜ì„¸ìš”.</div>

  <div class="concept-info no-break">
    <h4>ğŸ“Œ íƒêµ¬ ì§ˆë¬¸ê³¼ ì•ˆë‚´ ì§ˆë¬¸ì˜ êµ¬ë¶„</h4>
    <span class="item-title">â–¸ íƒêµ¬ ì§ˆë¬¸ (Essential Question)</span>
    <span class="indent">ë‹¨ì› ì „ì²´ë¥¼ ê´€í†µí•˜ëŠ” ì—´ë¦° ì§ˆë¬¸. ì •í•´ì§„ ì •ë‹µì´ ì—†ìœ¼ë©°, ë°˜ë³µì ìœ¼ë¡œ ì¬ë°©ë¬¸í•˜ë©° ì´í•´ë¥¼ ì‹¬í™”í•œë‹¤.</span>
    <span class="item-title" style="margin-top:8px;">â–¸ ì•ˆë‚´ ì§ˆë¬¸ (Guiding Questions) â€” ì—ë¦­ìŠ¨ì˜ 3ìœ í˜•</span>
    <span class="indent">â‘  <b>ì‚¬ì‹¤ ì§ˆë¬¸ (Factual)</b>: ëˆ„ê°€, ë¬´ì—‡ì„, ì–¸ì œ, ì–´ë””ì„œ? â€” êµ¬ì²´ì  ì‚¬ì‹¤Â·ì§€ì‹ í™•ì¸</span>
    <span class="indent">â‘¡ <b>ê°œë… ì§ˆë¬¸ (Conceptual)</b>: ì™œ? ì–´ë–»ê²Œ? â€” ê°œë… ê°„ ê´€ê³„ë¥¼ íƒìƒ‰í•˜ì—¬ ì¼ë°˜í™”ì— ë„ë‹¬</span>
    <span class="indent">â‘¢ <b>ë…¼ìŸ/ì¶”ë¡  ì§ˆë¬¸ (Debatable)</b>: ê³¼ì—° ~í• ê¹Œ? â€” ê°€ì¹˜ íŒë‹¨Â·ì „ì´ë¥¼ ìœ ë„í•˜ëŠ” ì—´ë¦° ì§ˆë¬¸</span>
  </div>

  <!-- ===== Stage 2 ===== -->
  <div class="page-break"></div>
  <div class="page-label">2ë‹¨ê³„</div>

  <div class="stage-header">
    <div class="stage-badge badge-s2">2<br>ë‹¨ê³„</div>
    <div class="stage-title s2">ì¦ê±° ê²°ì •</div>
    <div class="stage-divider div-s2"></div>
  </div>

  <div class="sub-header">
    <span class="sub-num num-s2">â‘¤</span>
    <span class="sub-title">GRASPS ìˆ˜í–‰ê³¼ì œ</span>
  </div>

  <table class="t-s2">
    <thead>
      <tr>
        <th style="width:7%">ìš”ì†Œ</th>
        <th style="width:20%">ì˜ë¯¸</th>
        <th style="width:73%">ë‚´ìš©</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td class="grasps-letter">G</td>
        <td class="grasps-meaning">ëª©í‘œ/ë„ì „ ê³¼ì œ</td>
        <td><textarea class="autogrow" placeholder="í•™ìƒë“¤ì´ ë‹¬ì„±í•´ì•¼ í•  ëª©í‘œ ë˜ëŠ” ë„ì „ ê³¼ì œ" data-field="grasps-g"></textarea></td>
      </tr>
      <tr>
        <td class="grasps-letter">R</td>
        <td class="grasps-meaning">í•™ìƒì˜ ì—­í• </td>
        <td><textarea class="autogrow" placeholder="í•™ìƒì´ ë§¡ê²Œ ë˜ëŠ” ì—­í• " data-field="grasps-r"></textarea></td>
      </tr>
      <tr>
        <td class="grasps-letter">A</td>
        <td class="grasps-meaning">ëŒ€ìƒ/ì²­ì¤‘</td>
        <td><textarea class="autogrow" placeholder="ê²°ê³¼ë¬¼ì„ ê³µìœ í•  ëŒ€ìƒ" data-field="grasps-a"></textarea></td>
      </tr>
      <tr>
        <td class="grasps-letter">S</td>
        <td class="grasps-meaning">ì‹¤ì œì  ë§¥ë½/ìƒí™©</td>
        <td><textarea class="autogrow" placeholder="ì‹¤ì œì ì¸ ìƒí™© ë˜ëŠ” ì‹œë‚˜ë¦¬ì˜¤" data-field="grasps-s1"></textarea></td>
      </tr>
      <tr>
        <td class="grasps-letter">P</td>
        <td class="grasps-meaning">ì‚°ì¶œë¬¼/ìˆ˜í–‰</td>
        <td><textarea class="autogrow" placeholder="ë§Œë“¤ì–´ì•¼ í•  ì‚°ì¶œë¬¼ ë˜ëŠ” ìˆ˜í–‰" data-field="grasps-p"></textarea></td>
      </tr>
      <tr>
        <td class="grasps-letter">S</td>
        <td class="grasps-meaning">í‰ê°€ ì¤€ê±°</td>
        <td><textarea class="autogrow" placeholder="í‰ê°€ì˜ ê¸°ì¤€ê³¼ ì¤€ê±°" data-field="grasps-s2"></textarea></td>
      </tr>
    </tbody>
  </table>
  <div class="hint-box">ğŸ’¡ ìˆ˜í–‰ê³¼ì œëŠ” í•µì‹¬ ì•„ì´ë””ì–´ì˜ ì´í•´ë¥¼ 'ì „ì´'í•˜ì—¬ ë“œëŸ¬ë‚¼ ìˆ˜ ìˆì–´ì•¼ í•©ë‹ˆë‹¤. ë‹¨ìˆœ ì•”ê¸°ë¡œ í•´ê²°ë˜ëŠ” ê³¼ì œëŠ” ìˆ˜í–‰ê³¼ì œê°€ ì•„ë‹™ë‹ˆë‹¤.</div>

  <div class="sub-header" style="margin-top:20px;">
    <span class="sub-num num-s2">â‘¥</span>
    <span class="sub-title">ë£¨ë¸Œë¦­</span>
  </div>

  <div class="table-scroll">
  <table class="t-s2 row-actions-wrap" id="rubricTable">
    <thead>
      <tr>
        <th style="width:34%">í‰ê°€ ìš”ì†Œ</th>
        <th style="width:22%">ì˜í•¨ â˜…â˜…â˜…</th>
        <th style="width:22%">ë³´í†µ â˜…â˜…</th>
        <th style="width:22%">ë…¸ë ¥ ìš”í•¨ â˜…</th>
      </tr>
    </thead>
    <tbody id="rubricBody">
      <tr>
        <td><textarea class="autogrow" placeholder="í‰ê°€ ìš”ì†Œ 1" data-field="rubric-item-1"></textarea></td>
        <td><textarea class="autogrow" placeholder="ì˜í•¨ ê¸°ì¤€" data-field="rubric-good-1"></textarea></td>
        <td><textarea class="autogrow" placeholder="ë³´í†µ ê¸°ì¤€" data-field="rubric-avg-1"></textarea></td>
        <td><textarea class="autogrow" placeholder="ë…¸ë ¥ ìš”í•¨ ê¸°ì¤€" data-field="rubric-low-1"></textarea></td>
      </tr>
      <tr>
        <td><textarea class="autogrow" placeholder="í‰ê°€ ìš”ì†Œ 2" data-field="rubric-item-2"></textarea></td>
        <td><textarea class="autogrow" placeholder="ì˜í•¨ ê¸°ì¤€" data-field="rubric-good-2"></textarea></td>
        <td><textarea class="autogrow" placeholder="ë³´í†µ ê¸°ì¤€" data-field="rubric-avg-2"></textarea></td>
        <td><textarea class="autogrow" placeholder="ë…¸ë ¥ ìš”í•¨ ê¸°ì¤€" data-field="rubric-low-2"></textarea></td>
      </tr>
      <tr>
        <td><textarea class="autogrow" placeholder="í‰ê°€ ìš”ì†Œ 3" data-field="rubric-item-3"></textarea></td>
        <td><textarea class="autogrow" placeholder="ì˜í•¨ ê¸°ì¤€" data-field="rubric-good-3"></textarea></td>
        <td><textarea class="autogrow" placeholder="ë³´í†µ ê¸°ì¤€" data-field="rubric-avg-3"></textarea></td>
        <td><textarea class="autogrow" placeholder="ë…¸ë ¥ ìš”í•¨ ê¸°ì¤€" data-field="rubric-low-3"></textarea></td>
      </tr>
    </tbody>
  </table>
  </div><!-- /.table-scroll -->
  <div class="table-actions no-print">
    <button class="add-row-btn" onclick="addRow('rubricBody', ['rubric-item','rubric-good','rubric-avg','rubric-low'], 4)">+ í‰ê°€ ìš”ì†Œ ì¶”ê°€</button>
  </div>
  <div class="hint-box">ğŸ’¡ ë£¨ë¸Œë¦­ì˜ í‰ê°€ ìš”ì†ŒëŠ” ìˆ˜í–‰ê³¼ì œì˜ ì¤€ê±°(S)ì—ì„œ ë„ì¶œí•©ë‹ˆë‹¤. ì§€ì‹Â·ì´í•´(Know) / ê³¼ì •Â·ê¸°ëŠ¥(Do) / ê°€ì¹˜Â·íƒœë„(Be)ë¥¼ ê³ ë¥´ê²Œ ë°˜ì˜í•˜ì„¸ìš”.</div>

  <!-- ===== Stage 3 ===== -->
  <div class="page-break"></div>
  <div class="page-label">3ë‹¨ê³„</div>

  <div class="stage-header">
    <div class="stage-badge badge-s3">3<br>ë‹¨ê³„</div>
    <div class="stage-title s3">í•™ìŠµ ê²½í—˜ ê³„íš</div>
    <div class="stage-divider div-s3"></div>
  </div>

  <div class="sub-header">
    <span class="sub-num num-s3">â‘¦</span>
    <span class="sub-title">ë‹¨ì› í•™ìŠµ íë¦„</span>
  </div>
  <p class="desc-text">ìŠ¤íŠ¸ëœë“œë³„ ì£¼ìš” í™œë™ê³¼ ìë£Œ ë° ì‚¬ê³ ì „ëµì„ ê¸°ë¡í•˜ì„¸ìš”.</p>

  <div class="table-scroll">
  <table class="t-s3 row-actions-wrap" id="flowTable">
    <thead>
      <tr>
        <th style="width:9%">ì°¨ì‹œ</th>
        <th style="width:18%">ìŠ¤íŠ¸ëœë“œ<br>(ì£¼ì œëª…)</th>
        <th style="width:36%">ì£¼ìš” í™œë™</th>
        <th style="width:25%">ìë£Œ ë°<br>ì‚¬ê³ ì „ëµ</th>
        <th style="width:12%">ë¹„ê³ </th>
      </tr>
    </thead>
    <tbody id="flowBody">
      <tr>
        <td><textarea class="autogrow" placeholder="1" data-field="flow-h-1" style="text-align:center;min-height:56px;"></textarea></td>
        <td class="strand-label"><textarea class="autogrow" placeholder="ìŠ¤íŠ¸ëœë“œ 1" data-field="flow-strand-1" style="text-align:center;font-weight:700;color:#B87333;min-height:56px;"></textarea></td>
        <td><textarea class="autogrow" placeholder="ì£¼ìš” í™œë™ ì…ë ¥" data-field="flow-act-1" style="min-height:56px;"></textarea></td>
        <td><textarea class="autogrow" placeholder="ìë£Œ ë° ì‚¬ê³ ì „ëµ" data-field="flow-q-1" style="min-height:56px;"></textarea></td>
        <td><textarea class="autogrow" placeholder="" data-field="flow-note-1" style="min-height:56px;"></textarea></td>
      </tr>
      <tr>
        <td><textarea class="autogrow" placeholder="2" data-field="flow-h-2" style="text-align:center;min-height:56px;"></textarea></td>
        <td><textarea class="autogrow" placeholder="" data-field="flow-strand-2" style="min-height:56px;"></textarea></td>
        <td><textarea class="autogrow" placeholder="ì£¼ìš” í™œë™ ì…ë ¥" data-field="flow-act-2" style="min-height:56px;"></textarea></td>
        <td><textarea class="autogrow" placeholder="ìë£Œ ë° ì‚¬ê³ ì „ëµ" data-field="flow-q-2" style="min-height:56px;"></textarea></td>
        <td><textarea class="autogrow" placeholder="" data-field="flow-note-2" style="min-height:56px;"></textarea></td>
      </tr>
      <tr>
        <td><textarea class="autogrow" placeholder="3" data-field="flow-h-3" style="text-align:center;min-height:56px;"></textarea></td>
        <td class="strand-label"><textarea class="autogrow" placeholder="ìŠ¤íŠ¸ëœë“œ 2" data-field="flow-strand-3" style="text-align:center;font-weight:700;color:#B87333;min-height:56px;"></textarea></td>
        <td><textarea class="autogrow" placeholder="ì£¼ìš” í™œë™ ì…ë ¥" data-field="flow-act-3" style="min-height:56px;"></textarea></td>
        <td><textarea class="autogrow" placeholder="ìë£Œ ë° ì‚¬ê³ ì „ëµ" data-field="flow-q-3" style="min-height:56px;"></textarea></td>
        <td><textarea class="autogrow" placeholder="" data-field="flow-note-3" style="min-height:56px;"></textarea></td>
      </tr>
      <tr>
        <td><textarea class="autogrow" placeholder="4" data-field="flow-h-4" style="text-align:center;min-height:56px;"></textarea></td>
        <td><textarea class="autogrow" placeholder="" data-field="flow-strand-4" style="min-height:56px;"></textarea></td>
        <td><textarea class="autogrow" placeholder="ì£¼ìš” í™œë™ ì…ë ¥" data-field="flow-act-4" style="min-height:56px;"></textarea></td>
        <td><textarea class="autogrow" placeholder="ìë£Œ ë° ì‚¬ê³ ì „ëµ" data-field="flow-q-4" style="min-height:56px;"></textarea></td>
        <td><textarea class="autogrow" placeholder="" data-field="flow-note-4" style="min-height:56px;"></textarea></td>
      </tr>
      <tr>
        <td><textarea class="autogrow" placeholder="5" data-field="flow-h-5" style="text-align:center;min-height:56px;"></textarea></td>
        <td class="strand-label"><textarea class="autogrow" placeholder="ìŠ¤íŠ¸ëœë“œ 3" data-field="flow-strand-5" style="text-align:center;font-weight:700;color:#B87333;min-height:56px;"></textarea></td>
        <td><textarea class="autogrow" placeholder="ì£¼ìš” í™œë™ ì…ë ¥" data-field="flow-act-5" style="min-height:56px;"></textarea></td>
        <td><textarea class="autogrow" placeholder="ìë£Œ ë° ì‚¬ê³ ì „ëµ" data-field="flow-q-5" style="min-height:56px;"></textarea></td>
        <td><textarea class="autogrow" placeholder="" data-field="flow-note-5" style="min-height:56px;"></textarea></td>
      </tr>
    </tbody>
  </table>
  </div><!-- /.table-scroll -->
  <div class="table-actions no-print">
    <button class="add-row-btn" onclick="addFlowRow()">+ ì°¨ì‹œ í–‰ ì¶”ê°€</button>
  </div>
  <div class="hint-box">ğŸ’¡ ì¼ë°˜í™”(ê°œë… ì •ë¦¬) â†’ ì „ì´(ìƒˆë¡œìš´ ìƒí™© ì ìš©)ëŠ” ë°˜ë“œì‹œ êµ¬ë¶„í•˜ì„¸ìš”. ìˆ˜í–‰ê³¼ì œëŠ” 'ì „ì´í•˜ê¸°' ë‹¨ê³„ì— ìœ„ì¹˜í•©ë‹ˆë‹¤.</div>

  <!-- ===== Page 5 ===== -->
  <div class="page-break"></div>
  <div class="page-label">3ë‹¨ê³„ ê³„ì†</div>

  <div class="sub-header">
    <span class="sub-num num-s3">â‘§</span>
    <span class="sub-title">WHERETO ìê¸° ì ê²€ (Wiggins &amp; McTighe)</span>
  </div>
  <p class="desc-text">í•™ìŠµ ê²½í—˜ì´ ì•„ë˜ 7ê°€ì§€ ìš”ì†Œë¥¼ ì¶©ì¡±í•˜ëŠ”ì§€ ì ê²€í•˜ì„¸ìš”.</p>

  <div class="table-scroll">
  <table class="t-s3">
    <thead>
      <tr>
        <th style="width:6%">ìš”ì†Œ</th>
        <th style="width:20%">ì˜ë¯¸</th>
        <th style="width:44%">ì ê²€ ì§ˆë¬¸</th>
        <th style="width:30%">ë©”ëª¨</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td class="whereto-letter">W</td>
        <td class="whereto-meaning"><b>Where &amp; Why</b><br><span style="font-size:8pt;color:var(--gray-500);">(ë°©í–¥ê³¼ ì´ìœ )</span></td>
        <td style="padding:8px 10px;font-size:9pt;vertical-align:middle;">í•™ìƒì´ ë‹¨ì›ì˜ ë°©í–¥Â·ëª©í‘œÂ·í‰ê°€ ê¸°ì¤€ì„ ì•Œê³  ìˆëŠ”ê°€?<br>'ì™œ ì´ê²ƒì„ ë°°ìš°ëŠ”ê°€'ë¥¼ ì´í•´í•˜ëŠ”ê°€?</td>
        <td><textarea class="autogrow" placeholder="í•´ë‹¹ ì°¨ì‹œ / ë©”ëª¨" data-field="whereto-w" style="min-height:56px;"></textarea></td>
      </tr>
      <tr>
        <td class="whereto-letter">H</td>
        <td class="whereto-meaning"><b>Hook &amp; Hold</b><br><span style="font-size:8pt;color:var(--gray-500);">(ëª°ì… ìœ ë„)</span></td>
        <td style="padding:8px 10px;font-size:9pt;vertical-align:middle;">ë„ì…ì—ì„œ í•™ìƒì˜ í¥ë¯¸Â·í˜¸ê¸°ì‹¬ì„ ëŒì–´ë‚´ëŠ” í™œë™ì´ ìˆëŠ”ê°€?<br>í•™ìŠµ ì „ë°˜ì— ê±¸ì³ ëª°ì…ì´ ìœ ì§€ë˜ëŠ”ê°€?</td>
        <td><textarea class="autogrow" placeholder="í•´ë‹¹ ì°¨ì‹œ / ë©”ëª¨" data-field="whereto-h" style="min-height:56px;"></textarea></td>
      </tr>
      <tr>
        <td class="whereto-letter">E<sub>1</sub></td>
        <td class="whereto-meaning"><b>Explore &amp; Experience</b><br><span style="font-size:8pt;color:var(--gray-500);">(íƒìƒ‰Â·ê²½í—˜)</span></td>
        <td style="padding:8px 10px;font-size:9pt;vertical-align:middle;">í•µì‹¬ ì•„ì´ë””ì–´ë¥¼ í•™ìƒ ìŠ¤ìŠ¤ë¡œ íƒêµ¬Â·ê²½í—˜í•  ê¸°íšŒê°€ ìˆëŠ”ê°€?</td>
        <td><textarea class="autogrow" placeholder="í•´ë‹¹ ì°¨ì‹œ / ë©”ëª¨" data-field="whereto-e1" style="min-height:56px;"></textarea></td>
      </tr>
      <tr>
        <td class="whereto-letter">R</td>
        <td class="whereto-meaning"><b>Reflect, Rethink, Revise</b><br><span style="font-size:8pt;color:var(--gray-500);">(ì„±ì°°Â·ì¬ê³ Â·ìˆ˜ì •)</span></td>
        <td style="padding:8px 10px;font-size:9pt;vertical-align:middle;">í•™ìƒì´ ìì‹ ì˜ ì´í•´ë¥¼ ëŒì•„ë³´ê³  ìˆ˜ì •í•  ê¸°íšŒê°€ ìˆëŠ”ê°€?<br>ì˜¤ê°œë…ì„ ì ê²€í•˜ê³  ì¬ì‚¬ê³ í•˜ëŠ” í™œë™ì´ í¬í•¨ë˜ì–´ ìˆëŠ”ê°€?</td>
        <td><textarea class="autogrow" placeholder="í•´ë‹¹ ì°¨ì‹œ / ë©”ëª¨" data-field="whereto-r" style="min-height:56px;"></textarea></td>
      </tr>
      <tr>
        <td class="whereto-letter">E<sub>2</sub></td>
        <td class="whereto-meaning"><b>Evaluate</b><br><span style="font-size:8pt;color:var(--gray-500);">(ìê¸° í‰ê°€)</span></td>
        <td style="padding:8px 10px;font-size:9pt;vertical-align:middle;">í•™ìƒì´ ìì‹ ì˜ í•™ìŠµ ê³¼ì •ê³¼ ê²°ê³¼ë¥¼ ìŠ¤ìŠ¤ë¡œ í‰ê°€í•  ìˆ˜ ìˆëŠ”ê°€?<br>í˜•ì„± í‰ê°€ê°€ ì ì ˆíˆ ë°°ì¹˜ë˜ì–´ ìˆëŠ”ê°€?</td>
        <td><textarea class="autogrow" placeholder="í•´ë‹¹ ì°¨ì‹œ / ë©”ëª¨" data-field="whereto-e2" style="min-height:56px;"></textarea></td>
      </tr>
      <tr>
        <td class="whereto-letter">T</td>
        <td class="whereto-meaning"><b>Tailored</b><br><span style="font-size:8pt;color:var(--gray-500);">(ê°œë³„í™”)</span></td>
        <td style="padding:8px 10px;font-size:9pt;vertical-align:middle;">í•™ìƒì˜ ê°œì¸ì°¨(í¥ë¯¸Â·ìˆ˜ì¤€Â·í•™ìŠµ ì–‘ì‹)ì— ë”°ë¼<br>í™œë™ì´ë‚˜ ìë£Œê°€ ì°¨ë³„í™”ë˜ì–´ ìˆëŠ”ê°€?</td>
        <td><textarea class="autogrow" placeholder="í•´ë‹¹ ì°¨ì‹œ / ë©”ëª¨" data-field="whereto-t" style="min-height:56px;"></textarea></td>
      </tr>
      <tr>
        <td class="whereto-letter">O</td>
        <td class="whereto-meaning"><b>Organized</b><br><span style="font-size:8pt;color:var(--gray-500);">(ì¡°ì§Â·ë°°ì—´)</span></td>
        <td style="padding:8px 10px;font-size:9pt;vertical-align:middle;">í•™ìŠµ í™œë™ì´ ì´í•´ì˜ ì‹¬í™”ë¥¼ ìœ„í•´ ìµœì ì˜ ìˆœì„œë¡œ ë°°ì—´ë˜ì–´ ìˆëŠ”ê°€?<br>(ë‹¨ìˆœ ì‹œê°„ìˆœì´ ì•„ë‹Œ ê°œë…ì  íë¦„ ì¤‘ì‹¬)</td>
        <td><textarea class="autogrow" placeholder="í•´ë‹¹ ì°¨ì‹œ / ë©”ëª¨" data-field="whereto-o" style="min-height:56px;"></textarea></td>
      </tr>
    </tbody>
  </table>
  </div><!-- /.table-scroll -->
  <div class="hint-box">ğŸ’¡ WHERETOëŠ” ìœ„ê¸´ìŠ¤ì™€ ë§¥íƒ€ì´ì˜ 'ì´í•´ì¤‘ì‹¬êµìœ¡ê³¼ì •(UbD)' 3ë‹¨ê³„ì—ì„œ í•™ìŠµ ê²½í—˜ì„ ì„¤ê³„Â·ì ê²€í•˜ëŠ” í‹€ì…ë‹ˆë‹¤.</div>

  <!-- ===== â‘¨ ê°œë…ê¸°ë°˜ ë‹¨ì› ì„¤ê³„ ìê¸° ì ê²€ ===== -->
  <div class="sub-header" style="margin-top:24px;">
    <span class="sub-num num-s3">â‘¨</span>
    <span class="sub-title">ê°œë…ê¸°ë°˜ ë‹¨ì› ì„¤ê³„ ìê¸° ì ê²€ (Erickson &amp; Lanning)</span>
  </div>
  <p class="desc-text">ë‹¨ì› ì„¤ê³„ì˜ ê° ìš”ì†Œê°€ ê°œë…ê¸°ë°˜ íƒêµ¬ì˜ ì›ì¹™ì— ë¶€í•©í•˜ëŠ”ì§€ ì ê²€í•˜ì„¸ìš”.</p>

  <div class="table-scroll">
  <table class="t-s3">
    <thead>
      <tr>
        <th style="width:14%">ì„¤ê³„ ìš”ì†Œ</th>
        <th style="width:50%">ì ê²€ í•­ëª©</th>
        <th style="width:6%">â˜</th>
        <th style="width:30%">ë©”ëª¨</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td style="font-weight:700;text-align:center;vertical-align:middle;font-size:8.5pt;">ë‹¨ì›ëª…</td>
        <td style="padding:8px 10px;font-size:9pt;vertical-align:middle;">ë‹¨ì›ì˜ ì£¼ì œê°€ ëª…í™•í•˜ê²Œ ë“œëŸ¬ë‚˜ëŠ”ê°€?</td>
        <td style="text-align:center;vertical-align:middle;"><textarea class="autogrow" placeholder="â˜" data-field="cbci-ck-1" style="min-height:32px;text-align:center;"></textarea></td>
        <td><textarea class="autogrow" placeholder="" data-field="cbci-ck-1-memo" style="min-height:32px;"></textarea></td>
      </tr>
      <tr>
        <td style="font-weight:700;text-align:center;vertical-align:middle;font-size:8.5pt;">ê°œë… ë Œì¦ˆ</td>
        <td style="padding:8px 10px;font-size:9pt;vertical-align:middle;">ì‚¬ì‹¤ ìˆ˜ì¤€ì„ ë„˜ì–´ ì‚¬ê³ ë¥¼ í™•ì¥í•˜ëŠ” ìƒìœ„ ê°œë…(ë§¤í¬ë¡œ ê°œë…)ì¸ê°€?</td>
        <td style="text-align:center;vertical-align:middle;"><textarea class="autogrow" placeholder="â˜" data-field="cbci-ck-2" style="min-height:32px;text-align:center;"></textarea></td>
        <td><textarea class="autogrow" placeholder="" data-field="cbci-ck-2-memo" style="min-height:32px;"></textarea></td>
      </tr>
      <tr>
        <td style="font-weight:700;text-align:center;vertical-align:middle;font-size:8.5pt;">ìŠ¤íŠ¸ëœë“œ</td>
        <td style="padding:8px 10px;font-size:9pt;vertical-align:middle;">ë‹¨ì›ëª…ê³¼ ëª…í™•íˆ ê´€ë ¨ëœ í•˜ìœ„ ì£¼ì œ(ì†Œì£¼ì œ)ë¡œ êµ¬ì„±ë˜ì—ˆëŠ”ê°€?</td>
        <td style="text-align:center;vertical-align:middle;"><textarea class="autogrow" placeholder="â˜" data-field="cbci-ck-3" style="min-height:32px;text-align:center;"></textarea></td>
        <td><textarea class="autogrow" placeholder="" data-field="cbci-ck-3-memo" style="min-height:32px;"></textarea></td>
      </tr>
      <tr>
        <td rowspan="3" style="font-weight:700;text-align:center;vertical-align:middle;font-size:8.5pt;">ì¼ë°˜í™”</td>
        <td style="padding:8px 10px;font-size:9pt;vertical-align:middle;">ë‘ ê°œ ì´ìƒì˜ ê°œë…ì„ ì—°ê²°í•˜ëŠ” ì™„ì „í•œ ë¬¸ì¥ì¸ê°€?</td>
        <td style="text-align:center;vertical-align:middle;"><textarea class="autogrow" placeholder="â˜" data-field="cbci-ck-4a" style="min-height:32px;text-align:center;"></textarea></td>
        <td><textarea class="autogrow" placeholder="" data-field="cbci-ck-4a-memo" style="min-height:32px;"></textarea></td>
      </tr>
      <tr>
        <td style="padding:8px 10px;font-size:9pt;vertical-align:middle;">ê³ ìœ ëª…ì‚¬Â·ê³¼ê±°ì‹œì œ ë™ì‚¬ê°€ ì—†ì–´ ìƒˆë¡œìš´ ìƒí™©ì— ì „ì´ ê°€ëŠ¥í•œê°€?</td>
        <td style="text-align:center;vertical-align:middle;"><textarea class="autogrow" placeholder="â˜" data-field="cbci-ck-4b" style="min-height:32px;text-align:center;"></textarea></td>
        <td><textarea class="autogrow" placeholder="" data-field="cbci-ck-4b-memo" style="min-height:32px;"></textarea></td>
      </tr>
      <tr>
        <td style="padding:8px 10px;font-size:9pt;vertical-align:middle;">ë„ˆë¬´ ë‹¹ì—°í•˜ì§€ ì•Šê³  ê¹Šì´ ìˆëŠ” í†µì°°ì„ ë‹´ê³  ìˆëŠ”ê°€?</td>
        <td style="text-align:center;vertical-align:middle;"><textarea class="autogrow" placeholder="â˜" data-field="cbci-ck-4c" style="min-height:32px;text-align:center;"></textarea></td>
        <td><textarea class="autogrow" placeholder="" data-field="cbci-ck-4c-memo" style="min-height:32px;"></textarea></td>
      </tr>
      <tr>
        <td style="font-weight:700;text-align:center;vertical-align:middle;font-size:8.5pt;">ì•ˆë‚´ ì§ˆë¬¸</td>
        <td style="padding:8px 10px;font-size:9pt;vertical-align:middle;">ì‚¬ì‹¤ì Â·ê°œë…ì Â·ë…¼ìŸì (ë„ë°œì ) ì§ˆë¬¸ì´ ê· í˜• ìˆê²Œ í¬í•¨ë˜ëŠ”ê°€?</td>
        <td style="text-align:center;vertical-align:middle;"><textarea class="autogrow" placeholder="â˜" data-field="cbci-ck-5" style="min-height:32px;text-align:center;"></textarea></td>
        <td><textarea class="autogrow" placeholder="" data-field="cbci-ck-5-memo" style="min-height:32px;"></textarea></td>
      </tr>
      <tr>
        <td style="font-weight:700;text-align:center;vertical-align:middle;font-size:8.5pt;">í•µì‹¬ ë‚´ìš©</td>
        <td style="padding:8px 10px;font-size:9pt;vertical-align:middle;">ì¼ë°˜í™” ë„ì¶œì„ ë’·ë°›ì¹¨í•˜ëŠ” í•„ìˆ˜ ì§€ì‹(ì‚¬ì‹¤Â·ì‚¬ë¡€)ì´ ì„ ì •ë˜ì—ˆëŠ”ê°€?</td>
        <td style="text-align:center;vertical-align:middle;"><textarea class="autogrow" placeholder="â˜" data-field="cbci-ck-6" style="min-height:32px;text-align:center;"></textarea></td>
        <td><textarea class="autogrow" placeholder="" data-field="cbci-ck-6-memo" style="min-height:32px;"></textarea></td>
      </tr>
      <tr>
        <td style="font-weight:700;text-align:center;vertical-align:middle;font-size:8.5pt;">í•µì‹¬ ê¸°ëŠ¥</td>
        <td style="padding:8px 10px;font-size:9pt;vertical-align:middle;">êµìœ¡ê³¼ì • ì„±ì·¨ê¸°ì¤€ì— ë¶€í•©í•˜ëŠ” ê¸°ëŠ¥Â·ê³¼ì •ì´ í¬í•¨ë˜ëŠ”ê°€?</td>
        <td style="text-align:center;vertical-align:middle;"><textarea class="autogrow" placeholder="â˜" data-field="cbci-ck-7" style="min-height:32px;text-align:center;"></textarea></td>
        <td><textarea class="autogrow" placeholder="" data-field="cbci-ck-7-memo" style="min-height:32px;"></textarea></td>
      </tr>
      <tr>
        <td style="font-weight:700;text-align:center;vertical-align:middle;font-size:8.5pt;">ìˆ˜í–‰ ê³¼ì œ</td>
        <td style="padding:8px 10px;font-size:9pt;vertical-align:middle;">ê°œë…ì  ì´í•´ì˜ ì „ì´ë¥¼ ì¦ëª…í•  ìˆ˜ ìˆëŠ” ê³¼ì œì¸ê°€?</td>
        <td style="text-align:center;vertical-align:middle;"><textarea class="autogrow" placeholder="â˜" data-field="cbci-ck-8" style="min-height:32px;text-align:center;"></textarea></td>
        <td><textarea class="autogrow" placeholder="" data-field="cbci-ck-8-memo" style="min-height:32px;"></textarea></td>
      </tr>
      <tr>
        <td style="font-weight:700;text-align:center;vertical-align:middle;font-size:8.5pt;">í‰ê°€ ê¸°ì¤€</td>
        <td style="padding:8px 10px;font-size:9pt;vertical-align:middle;">ë£¨ë¸Œë¦­ì´ ì¼ë°˜í™”Â·í•µì‹¬ ê¸°ëŠ¥ê³¼ ì •ë ¬ë˜ì–´ ìˆëŠ”ê°€?</td>
        <td style="text-align:center;vertical-align:middle;"><textarea class="autogrow" placeholder="â˜" data-field="cbci-ck-9" style="min-height:32px;text-align:center;"></textarea></td>
        <td><textarea class="autogrow" placeholder="" data-field="cbci-ck-9-memo" style="min-height:32px;"></textarea></td>
      </tr>
    </tbody>
  </table>
  </div><!-- /.table-scroll -->
  <div class="hint-box">ğŸ’¡ ì—ë¦­ìŠ¨ê³¼ ë˜ë‹ì˜ ê°œë…ê¸°ë°˜ ë‹¨ì› ì„¤ê³„ 9ë‹¨ê³„ ê¸°ë°˜ ì ê²€í‘œì…ë‹ˆë‹¤. ì¼ë°˜í™”ì— ê³ ìœ ëª…ì‚¬ë‚˜ ê³¼ê±°ì‹œì œê°€ í¬í•¨ë˜ë©´ ì „ì´ ê°€ëŠ¥ì„±ì´ ë–¨ì–´ì§‘ë‹ˆë‹¤.</div>

  <!-- ===== KPT ===== -->
  <div class="sub-header" style="margin-top:24px;">
    <span class="sub-num" style="background:var(--gray-700);">âœ</span>
    <span class="sub-title">ì‚¬í›„ íŒ€ ì„±ì°° (KPT)</span>
  </div>

  <table class="t-kpt">
    <thead>
      <tr>
        <th style="width:33%;">Keep<br><span style="font-weight:normal;font-size:8pt;">ì˜ ëœ ì </span></th>
        <th style="width:34%;">Problem<br><span style="font-weight:normal;font-size:8pt;">ë³´ì™„í•  ì </span></th>
        <th style="width:33%;">Try<br><span style="font-weight:normal;font-size:8pt;">ë‹¤ìŒ ì‹œë„</span></th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><textarea class="autogrow" placeholder="ì˜ ëœ ì ì„ ê¸°ë¡í•˜ì„¸ìš”" data-field="kpt-keep" style="min-height:120px;"></textarea></td>
        <td><textarea class="autogrow" placeholder="ë³´ì™„í•  ì ì„ ê¸°ë¡í•˜ì„¸ìš”" data-field="kpt-problem" style="min-height:120px;"></textarea></td>
        <td><textarea class="autogrow" placeholder="ë‹¤ìŒì— ì‹œë„í•  ê²ƒì„ ê¸°ë¡í•˜ì„¸ìš”" data-field="kpt-try" style="min-height:120px;"></textarea></td>
      </tr>
    </tbody>
  </table>

  <!-- ===== Footer ===== -->
  <div class="footer-bar">
    <span class="left">ë£°ë£¨ë„ë¼ í•œê¸°ìŒ¤</span>
    <span class="right">ê°œë…ê¸°ë°˜ìˆ˜ì—…ì„¤ê³„ AIë¡œ ë‚ ê°œë¥¼ ë‹¬ë‹¤</span>
  </div>

</div>

<!-- Toast -->
<div class="toast" id="toast"></div>

<script>
// ===== Row Counter =====
let rowCounters = {};

// ===== Auto-grow textareas =====
function autoGrow(el) {
  el.style.height = 'auto';
  el.style.height = el.scrollHeight + 'px';
}

document.addEventListener('input', function(e) {
  if (e.target.tagName === 'TEXTAREA') {
    autoGrow(e.target);
    scheduleSave();
  }
});

// Initialize all textareas
function initAutoGrow() {
  document.querySelectorAll('textarea').forEach(el => {
    autoGrow(el);
    if (!el.dataset.agInit) {
      el.dataset.agInit = '1';
      el.addEventListener('focus', () => autoGrow(el));
    }
  });
}

// ===== Example Panel Toggle =====
function toggleExample() {
  document.getElementById('examplePanel').classList.toggle('open');
}

// ===== Export Dropdown =====
function toggleExportMenu() {
  document.getElementById('exportDropdown').classList.toggle('open');
}
function closeExportMenu() {
  document.getElementById('exportDropdown').classList.remove('open');
}
// Close dropdown on outside click
document.addEventListener('click', function(e) {
  const wrap = document.querySelector('.export-wrap');
  if (wrap && !wrap.contains(e.target)) {
    closeExportMenu();
  }
});

// ===== Toast =====
function showToast(msg, duration = 2500) {
  const t = document.getElementById('toast');
  t.textContent = msg;
  t.classList.add('show');
  setTimeout(() => t.classList.remove('show'), duration);
}

// ===== Add Generic Row =====
function addRow(tbodyId, prefixes, colCount) {
  const tbody = document.getElementById(tbodyId);
  const tr = document.createElement('tr');

  for (let i = 0; i < colCount; i++) {
    const td = document.createElement('td');
    if (i === colCount - 1 && tbodyId === 'basicInfoBody') {
      td.className = 'cell-center';
    }
    const ta = document.createElement('textarea');
    ta.className = 'autogrow';
    ta.dataset.field = `${prefixes[i]}-${uid()}`;
    ta.placeholder = '';
    if (i === colCount - 1 && tbodyId === 'basicInfoBody') {
      ta.style.textAlign = 'center';
    }
    td.appendChild(ta);
    tr.appendChild(td);
  }

  tbody.appendChild(tr);
  initAutoGrow();
  showToast('í–‰ì´ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤');
}

// ===== Add Strand Row =====
function addStrandRow() {
  const tbody = document.getElementById('strandBody');
  const num = tbody.rows.length + 1;
  const tr = document.createElement('tr');

  const tdName = document.createElement('td');
  tdName.className = 'strand-label';
  const taName = document.createElement('textarea');
  taName.className = 'autogrow';
  taName.placeholder = `ìŠ¤íŠ¸ëœë“œ ${num}`;
  taName.dataset.field = `strand-name-${uid()}`;
  taName.style.cssText = 'text-align:center;font-weight:700;color:#B87333;min-height:60px;';
  tdName.appendChild(taName);
  tr.appendChild(tdName);

  const tdIdea = document.createElement('td');
  const taIdea = document.createElement('textarea');
  taIdea.className = 'autogrow';
  taIdea.placeholder = 'í•˜ìœ„ ì•„ì´ë””ì–´(ì¼ë°˜í™”) ì…ë ¥';
  taIdea.dataset.field = `strand-idea-${uid()}`;
  taIdea.style.minHeight = '60px';
  tdIdea.appendChild(taIdea);
  tr.appendChild(tdIdea);

  const tdQ = document.createElement('td');
  const taQ = document.createElement('textarea');
  taQ.className = 'autogrow';
  taQ.placeholder = 'ì•ˆë‚´ ì§ˆë¬¸ 2~4ê°œ ì…ë ¥';
  taQ.dataset.field = `strand-q-${uid()}`;
  taQ.style.minHeight = '60px';
  tdQ.appendChild(taQ);
  tr.appendChild(tdQ);

  tbody.appendChild(tr);
  initAutoGrow();
  showToast('ìŠ¤íŠ¸ëœë“œê°€ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤');
}

// ===== Add Flow Row =====
function addFlowRow() {
  const tbody = document.getElementById('flowBody');
  const num = tbody.rows.length + 1;
  const tr = document.createElement('tr');

  const fields = [
    { prefix: 'flow-h', placeholder: `${num}`, style: 'text-align:center;min-height:56px;' },
    { prefix: 'flow-strand', placeholder: '', style: 'min-height:56px;' },
    { prefix: 'flow-act', placeholder: 'ì£¼ìš” í™œë™ ì…ë ¥', style: 'min-height:56px;' },
    { prefix: 'flow-q', placeholder: 'ìë£Œ ë° ì‚¬ê³ ì „ëµ', style: 'min-height:56px;' },
    { prefix: 'flow-note', placeholder: '', style: 'min-height:56px;' }
  ];

  fields.forEach(f => {
    const td = document.createElement('td');
    const ta = document.createElement('textarea');
    ta.className = 'autogrow';
    ta.placeholder = f.placeholder;
    ta.dataset.field = `${f.prefix}-${uid()}`;
    ta.style.cssText = f.style;
    td.appendChild(ta);
    tr.appendChild(td);
  });

  tbody.appendChild(tr);
  initAutoGrow();
  showToast('ì°¨ì‹œê°€ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤');
}

// ===== Local Storage Save/Load =====
const STORAGE_KEY = 'cbci-web-worksheet-v1';
let saveTimer = null;

function scheduleSave() {
  clearTimeout(saveTimer);
  saveTimer = setTimeout(saveData, 1000);
  document.getElementById('saveIcon').textContent = 'â³';
  document.getElementById('saveText').textContent = 'ì €ì¥ ì¤‘...';
  document.getElementById('saveStatus').classList.remove('saved');
}

function saveData() {
  const data = {};
  document.querySelectorAll('textarea[data-field]').forEach(el => {
    data[el.dataset.field] = el.value;
  });
  // Save checkbox states
  document.querySelectorAll('input[type="checkbox"][data-field]').forEach(el => {
    data[el.dataset.field] = el.checked;
  });
  // Save row structure (number of rows per dynamic table)
  const rowStructure = {};
  ['basicInfoBody', 'curriculumBody', 'strandBody', 'rubricBody', 'flowBody'].forEach(id => {
    const tbody = document.getElementById(id);
    if (tbody) {
      rowStructure[id] = Array.from(tbody.rows).map(tr => {
        return Array.from(tr.querySelectorAll('textarea[data-field]')).map(ta => ta.dataset.field);
      });
    }
  });
  data.__rowStructure__ = rowStructure;
  try {
    localStorage.setItem(STORAGE_KEY, JSON.stringify(data));
    document.getElementById('saveIcon').textContent = 'âœ…';
    document.getElementById('saveText').textContent = 'ìë™ ì €ì¥ë¨';
    document.getElementById('saveStatus').classList.add('saved');
  } catch (e) {
    document.getElementById('saveIcon').textContent = 'âš ï¸';
    document.getElementById('saveText').textContent = 'ì €ì¥ ì‹¤íŒ¨';
  }
}

function loadData() {
  try {
    const raw = localStorage.getItem(STORAGE_KEY);
    if (!raw) return;
    const data = JSON.parse(raw);

    // Restore row structure first (recreate dynamically added rows)
    const rowStructure = data.__rowStructure__;
    if (rowStructure) {
      ['basicInfoBody', 'curriculumBody', 'strandBody', 'rubricBody', 'flowBody'].forEach(tbodyId => {
        const tbody = document.getElementById(tbodyId);
        const savedRows = rowStructure[tbodyId];
        const config = typeof TABLE_CONFIG !== 'undefined' ? TABLE_CONFIG[tbodyId] : null;
        if (!tbody || !savedRows || !config) return;

        // Current rows already in HTML
        const existingCount = tbody.rows.length;

        // Add missing rows
        for (let i = existingCount; i < savedRows.length; i++) {
          const newTr = config.create(i + 1);
          tbody.appendChild(newTr);
        }

        // Remap data-field attributes to match saved structure
        Array.from(tbody.rows).forEach((tr, rowIdx) => {
          if (!savedRows[rowIdx]) return;
          const textareas = tr.querySelectorAll('textarea[data-field]');
          savedRows[rowIdx].forEach((savedField, colIdx) => {
            if (textareas[colIdx]) {
              textareas[colIdx].dataset.field = savedField;
            }
          });
        });
      });
    }
    delete data.__rowStructure__;

    // Restore field values
    Object.entries(data).forEach(([field, value]) => {
      const el = document.querySelector(`textarea[data-field="${field}"]`);
      if (el) {
        el.value = value;
        autoGrow(el);
      }
      const cb = document.querySelector(`input[data-field="${field}"]`);
      if (cb) cb.checked = value;
    });
    document.getElementById('saveIcon').textContent = 'âœ…';
    document.getElementById('saveText').textContent = 'ë¶ˆëŸ¬ì˜¤ê¸° ì™„ë£Œ';
    document.getElementById('saveStatus').classList.add('saved');
  } catch (e) {
    console.warn('ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸° ì‹¤íŒ¨:', e);
  }
}

// ===== Reset =====
function resetAll() {
  if (!confirm('ëª¨ë“  ì…ë ¥ ë‚´ìš©ì„ ì´ˆê¸°í™”í•˜ì‹œê² ìŠµë‹ˆê¹Œ?\nì´ ì‘ì—…ì€ ë˜ëŒë¦´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.')) return;
  document.querySelectorAll('textarea').forEach(el => {
    el.value = '';
    autoGrow(el);
  });
  document.querySelectorAll('input[type="checkbox"]').forEach(el => el.checked = false);
  localStorage.removeItem(STORAGE_KEY);
  document.getElementById('saveIcon').textContent = 'ğŸ’¾';
  document.getElementById('saveText').textContent = 'ì´ˆê¸°í™”ë¨';
  document.getElementById('saveStatus').classList.remove('saved');
  showToast('ëª¨ë“  ë‚´ìš©ì´ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤');
}

// ===== Download HTML =====
function downloadHTML() {
  // Clone the document
  const clone = document.documentElement.cloneNode(true);

  // Remove toolbar, no-print elements, and row action buttons from clone
  clone.querySelectorAll('.toolbar, .no-print, .toast, .row-actions').forEach(el => el.remove());

  // Replace textareas with their values as styled divs
  clone.querySelectorAll('textarea').forEach(ta => {
    const div = document.createElement('div');
    div.style.cssText = ta.style.cssText || '';
    div.style.padding = '8px 10px';
    div.style.fontSize = '9.5pt';
    div.style.lineHeight = '1.65';
    div.style.whiteSpace = 'pre-wrap';
    div.style.wordBreak = 'break-word';
    div.style.minHeight = ta.style.minHeight || '48px';

    // Get current value from the original document
    const field = ta.dataset.field;
    const originalTa = document.querySelector(`textarea[data-field="${field}"]`);
    const val = originalTa ? originalTa.value : ta.value;

    if (val) {
      div.textContent = val;
      div.style.color = '#1a1a1a';
    } else {
      div.textContent = ta.placeholder || '';
      div.style.color = '#999';
      div.style.fontStyle = 'italic';
    }
    ta.parentNode.replaceChild(div, ta);
  });

  // Replace checkboxes
  clone.querySelectorAll('input[type="checkbox"]').forEach(cb => {
    const span = document.createElement('span');
    const field = cb.dataset.field;
    const originalCb = document.querySelector(`input[data-field="${field}"]`);
    span.textContent = (originalCb && originalCb.checked) ? 'â˜‘' : 'â˜';
    span.style.fontSize = '14px';
    cb.parentNode.replaceChild(span, cb);
  });

  const html = '<!DOCTYPE html>\n' + clone.outerHTML;

  const blob = new Blob([html], { type: 'text/html;charset=utf-8' });
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');

  const projectName = document.querySelector('textarea[data-field="project-name"]')?.value || 'ê°œë…ê¸°ë°˜_í”„ë¡œì íŠ¸_ì„¤ê³„';
  const date = new Date().toISOString().slice(0, 10);
  a.download = `${projectName.replace(/\s+/g, '_')}_${date}.html`;
  a.href = url;
  a.click();
  URL.revokeObjectURL(url);
  showToast('HTML íŒŒì¼ì´ ë‹¤ìš´ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤');
}

// ===== Print / PDF =====
function printPDF() {
  window.print();
}

// ===== Print Blank PDF (index.html) =====
function printBlankPDF() {
  // Create a hidden iframe to load index.html and print it
  let iframe = document.getElementById('printFrame');
  if (iframe) iframe.remove();

  iframe = document.createElement('iframe');
  iframe.id = 'printFrame';
  iframe.style.cssText = 'position:fixed;top:-9999px;left:-9999px;width:210mm;height:297mm;border:none;';
  document.body.appendChild(iframe);

  iframe.onload = function() {
    try {
      iframe.contentWindow.focus();
      iframe.contentWindow.print();
    } catch (e) {
      // Cross-origin fallback: open in new tab
      window.open('index.html', '_blank');
    }
    // Clean up after a delay
    setTimeout(() => { if (iframe.parentNode) iframe.remove(); }, 3000);
  };

  iframe.src = 'index.html';
  showToast('ì¸ì‡„ìš© ë¹ˆ ì–‘ì‹ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...');
}

// ===== Row Actions System =====
let rowIdCounter = Date.now();
function uid() { return 'r' + (rowIdCounter++); }

// Table config: defines how to create a new row for each table type
const TABLE_CONFIG = {
  basicInfoBody: {
    prefixes: ['subject','code','content','hours'],
    create(num) {
      const tr = document.createElement('tr');
      const cols = [
        { prefix: 'subject', placeholder: '', style: '' },
        { prefix: 'code', placeholder: '', style: '' },
        { prefix: 'content', placeholder: '', style: '' },
        { prefix: 'hours', placeholder: '', style: 'text-align:center;', tdClass: 'cell-center' }
      ];
      cols.forEach(c => {
        const td = document.createElement('td');
        if (c.tdClass) td.className = c.tdClass;
        const ta = document.createElement('textarea');
        ta.className = 'autogrow';
        ta.dataset.field = `${c.prefix}-${uid()}`;
        ta.placeholder = c.placeholder;
        if (c.style) ta.style.cssText = c.style;
        td.appendChild(ta);
        tr.appendChild(td);
      });
      return tr;
    }
  },
  curriculumBody: {
    create(num) {
      const tr = document.createElement('tr');
      ['cur-subj','cur-idea','cur-know','cur-do','cur-be'].forEach(p => {
        const td = document.createElement('td');
        const ta = document.createElement('textarea');
        ta.className = 'autogrow';
        ta.dataset.field = `${p}-${uid()}`;
        td.appendChild(ta);
        tr.appendChild(td);
      });
      return tr;
    }
  },
  strandBody: {
    create(num) {
      const tr = document.createElement('tr');
      const tdName = document.createElement('td');
      tdName.className = 'strand-label';
      const taName = document.createElement('textarea');
      taName.className = 'autogrow';
      taName.placeholder = `ìŠ¤íŠ¸ëœë“œ ${num}`;
      taName.dataset.field = `strand-name-${uid()}`;
      taName.style.cssText = 'text-align:center;font-weight:700;color:#B87333;min-height:60px;';
      taName.addEventListener('input', function() { updateStrandBg(tdName); });
      tdName.appendChild(taName);
      tr.appendChild(tdName);

      const tdIdea = document.createElement('td');
      const taIdea = document.createElement('textarea');
      taIdea.className = 'autogrow';
      taIdea.placeholder = 'í•˜ìœ„ ì•„ì´ë””ì–´(ì¼ë°˜í™”) ì…ë ¥';
      taIdea.dataset.field = `strand-idea-${uid()}`;
      taIdea.style.minHeight = '60px';
      tdIdea.appendChild(taIdea);
      tr.appendChild(tdIdea);

      const tdQ = document.createElement('td');
      const taQ = document.createElement('textarea');
      taQ.className = 'autogrow';
      taQ.placeholder = 'ì•ˆë‚´ ì§ˆë¬¸ 2~4ê°œ ì…ë ¥';
      taQ.dataset.field = `strand-q-${uid()}`;
      taQ.style.minHeight = '60px';
      tdQ.appendChild(taQ);
      tr.appendChild(tdQ);
      return tr;
    }
  },
  rubricBody: {
    create(num) {
      const tr = document.createElement('tr');
      [
        { p: 'rubric-item', ph: `í‰ê°€ ìš”ì†Œ ${num}` },
        { p: 'rubric-good', ph: 'ì˜í•¨ ê¸°ì¤€' },
        { p: 'rubric-avg', ph: 'ë³´í†µ ê¸°ì¤€' },
        { p: 'rubric-low', ph: 'ë…¸ë ¥ ìš”í•¨ ê¸°ì¤€' }
      ].forEach(c => {
        const td = document.createElement('td');
        const ta = document.createElement('textarea');
        ta.className = 'autogrow';
        ta.dataset.field = `${c.p}-${uid()}`;
        ta.placeholder = c.ph;
        td.appendChild(ta);
        tr.appendChild(td);
      });
      return tr;
    }
  },
  flowBody: {
    create(num) {
      const tr = document.createElement('tr');
      [
        { prefix: 'flow-h', placeholder: `${num}`, style: 'text-align:center;min-height:56px;' },
        { prefix: 'flow-strand', placeholder: '', style: 'min-height:56px;' },
        { prefix: 'flow-act', placeholder: 'ì£¼ìš” í™œë™ ì…ë ¥', style: 'min-height:56px;' },
        { prefix: 'flow-q', placeholder: 'ìë£Œ ë° ì‚¬ê³ ì „ëµ', style: 'min-height:56px;' },
        { prefix: 'flow-note', placeholder: '', style: 'min-height:56px;' }
      ].forEach(f => {
        const td = document.createElement('td');
        const ta = document.createElement('textarea');
        ta.className = 'autogrow';
        ta.placeholder = f.placeholder;
        ta.dataset.field = `${f.prefix}-${uid()}`;
        ta.style.cssText = f.style;
        if (f.prefix === 'flow-strand') {
          td.className = 'strand-label';
          ta.style.cssText = 'text-align:center;font-weight:700;color:#B87333;min-height:56px;';
          ta.addEventListener('input', function() { updateStrandBg(td); });
        }
        td.appendChild(ta);
        tr.appendChild(td);
      });
      return tr;
    }
  }
};

// Create action buttons for a row
function createRowActions(tr, tbody) {
  const div = document.createElement('div');
  div.className = 'row-actions no-print';

  const btnUp = document.createElement('button');
  btnUp.className = 'row-act-btn';
  btnUp.title = 'ìœ„ë¡œ ì´ë™';
  btnUp.innerHTML = 'â–²';
  btnUp.onclick = (e) => { e.stopPropagation(); moveRow(tr, tbody, -1); };

  const btnInsert = document.createElement('button');
  btnInsert.className = 'row-act-btn act-insert';
  btnInsert.title = 'ì•„ë˜ì— í–‰ ì‚½ì…';
  btnInsert.innerHTML = 'ï¼‹';
  btnInsert.onclick = (e) => { e.stopPropagation(); insertRowBelow(tr, tbody); };

  const btnDelete = document.createElement('button');
  btnDelete.className = 'row-act-btn act-delete';
  btnDelete.title = 'ì´ í–‰ ì‚­ì œ';
  btnDelete.innerHTML = 'Ã—';
  btnDelete.onclick = (e) => { e.stopPropagation(); deleteRow(tr, tbody); };

  const btnDown = document.createElement('button');
  btnDown.className = 'row-act-btn';
  btnDown.title = 'ì•„ë˜ë¡œ ì´ë™';
  btnDown.innerHTML = 'â–¼';
  btnDown.onclick = (e) => { e.stopPropagation(); moveRow(tr, tbody, 1); };

  div.appendChild(btnUp);
  div.appendChild(btnInsert);
  div.appendChild(btnDelete);
  div.appendChild(btnDown);

  // Append to last td
  const lastTd = tr.cells[tr.cells.length - 1];
  lastTd.appendChild(div);
}

// Move a row up (-1) or down (+1)
function moveRow(tr, tbody, direction) {
  const rows = Array.from(tbody.rows);
  const idx = rows.indexOf(tr);
  const targetIdx = idx + direction;
  if (targetIdx < 0 || targetIdx >= rows.length) return;

  if (direction === -1) {
    tbody.insertBefore(tr, rows[targetIdx]);
  } else {
    tbody.insertBefore(tr, rows[targetIdx].nextSibling);
  }
  scheduleSave();
  showToast('í–‰ì´ ì´ë™ë˜ì—ˆìŠµë‹ˆë‹¤');
}

// Insert a new row below the given row
function insertRowBelow(tr, tbody) {
  const tbodyId = tbody.id;
  const config = TABLE_CONFIG[tbodyId];
  if (!config) return;

  const rows = Array.from(tbody.rows);
  const idx = rows.indexOf(tr);
  const newTr = config.create(idx + 2);
  createRowActions(newTr, tbody);

  if (tr.nextSibling) {
    tbody.insertBefore(newTr, tr.nextSibling);
  } else {
    tbody.appendChild(newTr);
  }

  initAutoGrow();
  scheduleSave();
  showToast('í–‰ì´ ì‚½ì…ë˜ì—ˆìŠµë‹ˆë‹¤');
}

// Delete a row (with confirmation)
function deleteRow(tr, tbody) {
  if (tbody.rows.length <= 1) {
    showToast('ë§ˆì§€ë§‰ í–‰ì€ ì‚­ì œí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤');
    return;
  }
  if (!confirm('ì´ í–‰ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) return;
  tr.remove();
  scheduleSave();
  showToast('í–‰ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤');
}

// Attach row actions to all existing rows in dynamic tables
function initRowActions() {
  const tableIds = ['basicInfoBody', 'curriculumBody', 'strandBody', 'rubricBody', 'flowBody'];
  tableIds.forEach(tbodyId => {
    const tbody = document.getElementById(tbodyId);
    if (!tbody) return;
    Array.from(tbody.rows).forEach(tr => {
      // Skip if already has actions
      if (tr.querySelector('.row-actions')) return;
      createRowActions(tr, tbody);
    });
  });
}

// === PC: JS hover with delayed hide ===
// CSS :hover ëŒ€ì‹  JSë¡œ ê´€ë¦¬í•˜ì—¬ absolute ë²„íŠ¼ìœ¼ë¡œ ì´ë™ ì‹œì—ë„ ìœ ì§€
(function() {
  let hoverRow = null;
  let hideTimer = null;

  function showActions(tr) {
    if (hoverRow && hoverRow !== tr) hoverRow.classList.remove('row-hover');
    clearTimeout(hideTimer);
    tr.classList.add('row-hover');
    hoverRow = tr;
  }

  function scheduleHide() {
    clearTimeout(hideTimer);
    hideTimer = setTimeout(function() {
      if (hoverRow) { hoverRow.classList.remove('row-hover'); hoverRow = null; }
    }, 250);
  }

  // ì´ë²¤íŠ¸ ìœ„ì„: í…Œì´ë¸” tbody ë‹¨ìœ„
  document.querySelectorAll('.row-actions-wrap tbody').forEach(function(tbody) {
    tbody.addEventListener('mouseenter', function(e) {
      var tr = e.target.closest ? e.target.closest('tr') : null;
      if (tr && tbody.contains(tr)) showActions(tr);
    }, true);

    tbody.addEventListener('mouseover', function(e) {
      var tr = e.target.closest ? e.target.closest('tr') : null;
      if (tr && tbody.contains(tr)) showActions(tr);
    });

    tbody.addEventListener('mouseleave', function() {
      scheduleHide();
    });
  });

  // row-actions ë²„íŠ¼ ì˜ì—­ì— ë§ˆìš°ìŠ¤ ì§„ì…í•˜ë©´ ìˆ¨ê¸°ê¸° ì·¨ì†Œ
  document.addEventListener('mouseover', function(e) {
    if (e.target.closest && e.target.closest('.row-actions')) {
      clearTimeout(hideTimer);
    }
  });
  document.addEventListener('mouseout', function(e) {
    if (e.target.closest && e.target.closest('.row-actions')) {
      var related = e.relatedTarget;
      if (!related || !related.closest || !related.closest('.row-actions')) {
        scheduleHide();
      }
    }
  });
})();

// === Mobile: touch toggle row-active ===
let activeRow = null;
document.addEventListener('touchstart', function(e) {
  const tr = e.target.closest('.row-actions-wrap tbody tr');
  if (tr) {
    if (activeRow && activeRow !== tr) activeRow.classList.remove('row-active');
    tr.classList.toggle('row-active');
    activeRow = tr.classList.contains('row-active') ? tr : null;
  } else {
    if (activeRow) {
      activeRow.classList.remove('row-active');
      activeRow = null;
    }
  }
}, { passive: true });

// Patch existing add functions to include row actions
const _origAddRow = addRow;
addRow = function(tbodyId, prefixes, colCount) {
  _origAddRow(tbodyId, prefixes, colCount);
  const tbody = document.getElementById(tbodyId);
  const lastRow = tbody.rows[tbody.rows.length - 1];
  if (lastRow && !lastRow.querySelector('.row-actions')) {
    createRowActions(lastRow, tbody);
  }
};

const _origAddStrandRow = addStrandRow;
addStrandRow = function() {
  _origAddStrandRow();
  const tbody = document.getElementById('strandBody');
  const lastRow = tbody.rows[tbody.rows.length - 1];
  if (lastRow && !lastRow.querySelector('.row-actions')) {
    createRowActions(lastRow, tbody);
  }
};

const _origAddFlowRow = addFlowRow;
addFlowRow = function() {
  _origAddFlowRow();
  const tbody = document.getElementById('flowBody');
  const lastRow = tbody.rows[tbody.rows.length - 1];
  if (lastRow && !lastRow.querySelector('.row-actions')) {
    createRowActions(lastRow, tbody);
  }
};

// ===== Strand label: ì…ë ¥ ì‹œ ë°°ê²½ìƒ‰ í™œì„±í™” =====
function updateStrandBg(td) {
  const ta = td.querySelector('textarea');
  if (!ta) return;
  td.classList.toggle('has-value', ta.value.trim().length > 0);
}
function initStrandBg() {
  document.querySelectorAll('.strand-label').forEach(function(td) {
    updateStrandBg(td);
    const ta = td.querySelector('textarea');
    if (ta) ta.addEventListener('input', function() { updateStrandBg(td); });
  });
}

// ===== Init =====
window.addEventListener('DOMContentLoaded', () => {
  loadData();
  initAutoGrow();
  initRowActions();
  initStrandBg();
});
</script>

</body>
</html>
